2026-02-16T14:16:25.898+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 27712 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T14:16:25.903+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T14:16:25.904+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T14:16:25.964+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-16T14:16:25.964+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-16T14:16:27.932+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T14:16:27.946+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T14:16:27.946+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T14:16:27.998+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T14:16:27.998+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2033 ms
2026-02-16T14:16:28.364+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:16:28.419+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:16:28.465+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:16:28.488+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:16:28.518+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:16:28.610+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:16:29.268+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 38 mappings in 'requestMappingHandlerMapping'
2026-02-16T14:16:29.346+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T14:16:29.368+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T14:16:29.421+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T14:16:29.566+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T14:16:29.654+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T14:16:29.656+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T14:16:29.713+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#143f8376:0/SimpleConnection@f5e522f [delegate=amqp://guest@192.168.119.3:5672/, localPort=49269]
2026-02-16T14:16:29.809+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 4.499 seconds (process running for 5.405)
2026-02-16T14:16:29.811+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T14:19:56.933+08:00  INFO 27712 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T14:19:56.940+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T14:19:57.363+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T14:19:57.365+08:00  INFO 27712 --- [smart-hospital-registration] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T14:19:57.715+08:00  INFO 27712 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T14:19:57.827+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 27712 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T14:19:57.828+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T14:19:57.828+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T14:19:58.201+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T14:19:58.202+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T14:19:58.202+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T14:19:58.220+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T14:19:58.220+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 391 ms
2026-02-16T14:19:58.290+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:19:58.317+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:19:58.348+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:19:58.370+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:19:58.390+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:19:58.470+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:19:58.728+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'registrationController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\RegistrationController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.RegistrationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T14:19:58.729+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T14:19:58.737+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T14:19:58.767+08:00 ERROR 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.RegistrationController required a bean of type 'com.hospital.registration.service.RegistrationService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.RegistrationService' in your configuration.

2026-02-16T14:20:00.232+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 27712 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T14:20:00.232+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T14:20:00.232+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T14:20:00.498+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T14:20:00.498+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T14:20:00.499+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T14:20:00.510+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T14:20:00.510+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 278 ms
2026-02-16T14:20:00.559+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:20:00.567+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:20:00.582+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:20:00.600+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:20:00.619+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:20:00.671+08:00  WARN 27712 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T14:20:00.968+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 38 mappings in 'requestMappingHandlerMapping'
2026-02-16T14:20:00.994+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T14:20:01.001+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T14:20:01.014+08:00 DEBUG 27712 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T14:20:01.048+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T14:20:01.076+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T14:20:01.076+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T14:20:01.087+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#194d0aa1:0/SimpleConnection@8d78894 [delegate=amqp://guest@192.168.119.3:5672/, localPort=62196]
2026-02-16T14:20:01.108+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.906 seconds (process running for 216.703)
2026-02-16T14:20:01.110+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T14:20:01.110+08:00  INFO 27712 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T14:22:27.003+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-16T14:22:27.003+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-16T14:22:27.003+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-16T14:22:27.003+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-16T14:22:27.003+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-16T14:22:27.004+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@44a70f03
2026-02-16T14:22:27.004+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@10a74326
2026-02-16T14:22:27.004+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-16T14:22:27.005+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-16T14:22:27.012+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/user/login", parameters={}
2026-02-16T14:22:27.024+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.UserController#login(LoginDTO)
2026-02-16T14:22:27.095+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDTO(username=zhangsan, password=123456)]
2026-02-16T14:22:27.144+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.controller.UserController          : 收到登录请求 - 用户名: zhangsan
2026-02-16T14:22:27.146+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.UserServiceImpl       : 用户登录 - 用户名: zhangsan
2026-02-16T14:22:27.165+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-16T14:22:27.351+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@15a88e41
2026-02-16T14:22:27.353+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-16T14:22:27.359+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.UserMapper.selectByUsername      : ==>  Preparing: select id,username,password,real_name,id_card,phone, gender,birth_date,email,role,status, create_time,update_time from user where username = ?
2026-02-16T14:22:27.389+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.UserMapper.selectByUsername      : ==> Parameters: zhangsan(String)
2026-02-16T14:22:27.417+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.UserMapper.selectByUsername      : <==      Total: 1
2026-02-16T14:22:27.545+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.registration.utils.PasswordUtil      : 密码验证结果: true
2026-02-16T14:22:27.583+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.hospital.registration.utils.JwtUtil    : 生成Token成功 - userId: 5, username: zhangsan
2026-02-16T14:22:27.583+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.UserServiceImpl       : 用户登录成功 - ID: 5, 用户名: zhangsan
2026-02-16T14:22:27.598+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T14:22:27.604+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=登录成功, data={user=UserVO(id=5, username=zhangsan, realName=张三, (truncated)...]
2026-02-16T14:22:27.617+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T14:24:54.588+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/department/5/available?startDate=2026-02-20&endDate=2026-02-27", parameters={masked}
2026-02-16T14:24:54.589+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getAvailableSchedulesByDepartment(Long, LocalDate, LocalDate)
2026-02-16T14:24:54.594+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 查询科室的可预约排班列表 - 科室ID: 5, 开始日期: 2026-02-20, 结束日期: 2026-02-27
2026-02-16T14:24:54.595+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-16T14:24:54.596+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-16T14:24:54.599+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-16T14:24:54.602+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectAvailableByDepartment    : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, d.registration_fee, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.department_id = ? AND s.schedule_date BETWEEN ? AND ? AND s.status = 1 AND s.remaining_number > 0 AND s.deleted = 0 ORDER BY s.schedule_date ASC, s.time_slot ASC
2026-02-16T14:24:54.603+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectAvailableByDepartment    : ==> Parameters: 5(Long), 2026-02-20(LocalDate), 2026-02-27(LocalDate)
2026-02-16T14:24:54.612+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectAvailableByDepartment    : <==      Total: 5
2026-02-16T14:24:54.613+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 5 条可预约排班
2026-02-16T14:24:54.613+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T14:24:54.621+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedules=[ScheduleVO(id=2, doctorId=1, doctorNam (truncated)...]
2026-02-16T14:24:54.629+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T14:26:25.146+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/create", parameters={}
2026-02-16T14:26:25.147+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#createRegistration(RegistrationDTO)
2026-02-16T14:26:25.157+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegistrationDTO(scheduleId=7, patientId=5, symptom=测试支付后取消挂号并退款的流程)]
2026-02-16T14:26:25.165+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.s.impl.RegistrationServiceImpl     : 创建挂号 - 患者ID: 5, 排班ID: 7
2026-02-16T14:26:25.167+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-16T14:26:25.167+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 5(Long)
2026-02-16T14:26:25.169+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-16T14:26:25.169+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, d.registration_fee, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-16T14:26:25.171+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 7(Long)
2026-02-16T14:26:25.172+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-16T14:26:25.173+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.decreaseRemainingNumber        : ==>  Preparing: UPDATE schedule SET remaining_number = remaining_number - 1, status = CASE WHEN remaining_number - 1 = 0 THEN 2 ELSE status END WHERE id = ? AND remaining_number > 0 AND deleted = 0
2026-02-16T14:26:25.174+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.decreaseRemainingNumber        : ==> Parameters: 7(Long)
2026-02-16T14:26:25.175+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.decreaseRemainingNumber        : <==    Updates: 1
2026-02-16T14:26:25.175+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.R.selectMaxQueueNumber           : ==>  Preparing: SELECT COALESCE(MAX(queue_number), 0) FROM registration WHERE schedule_id = ? AND deleted = 0
2026-02-16T14:26:25.176+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.R.selectMaxQueueNumber           : ==> Parameters: 7(Long)
2026-02-16T14:26:25.180+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.R.selectMaxQueueNumber           : <==      Total: 1
2026-02-16T14:26:25.213+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-16T14:26:25.214+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.RegistrationMapper.insert   : ==>  Preparing: INSERT INTO registration ( registration_no, patient_id, doctor_id, department_id, schedule_id, registration_date, time_slot, queue_number, registration_fee, status, symptom, payment_status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-16T14:26:25.216+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.RegistrationMapper.insert   : ==> Parameters: REG202602161426251746(String), 5(Long), 1(Long), 5(Long), 7(Long), 2026-02-23(LocalDate), MORNING(String), 1(Integer), 60.00(BigDecimal), PENDING(String), 测试支付后取消挂号并退款的流程(String), PENDING(String), 2026-02-16T14:26:25.213918100(LocalDateTime), 2026-02-16T14:26:25.214918500(LocalDateTime)
2026-02-16T14:26:25.218+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.RegistrationMapper.insert   : <==    Updates: 1
2026-02-16T14:26:25.220+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.s.impl.RegistrationServiceImpl     : 挂号创建成功 - ID: 5, 挂号单号: REG202602161426251746, 排队号: 1
2026-02-16T14:26:25.220+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.R.selectDetailById               : ==>  Preparing: SELECT r.id, r.registration_no, r.patient_id, p.real_name as patient_name, p.phone as patient_phone, r.doctor_id, doc_user.real_name as doctor_name, doc.title as doctor_title, r.department_id, dept.name as department_name, r.schedule_id, r.registration_date, r.time_slot, r.queue_number, r.registration_fee, r.status, r.symptom, r.payment_status, r.payment_time, r.create_time, r.update_time FROM registration r LEFT JOIN user p ON r.patient_id = p.id AND p.deleted = 0 LEFT JOIN doctor doc ON r.doctor_id = doc.id AND doc.deleted = 0 LEFT JOIN user doc_user ON doc.user_id = doc_user.id AND doc_user.deleted = 0 LEFT JOIN department dept ON r.department_id = dept.id AND dept.deleted = 0 WHERE r.id = ? AND r.deleted = 0 LIMIT 1
2026-02-16T14:26:25.222+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.R.selectDetailById               : ==> Parameters: 5(Long)
2026-02-16T14:26:25.225+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.R.selectDetailById               : <==      Total: 1
2026-02-16T14:26:25.229+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T14:26:25.237+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=挂号成功, data={registration=RegistrationVO(id=5, registrationNo= (truncated)...]
2026-02-16T14:26:25.243+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T14:27:49.238+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/5/pay", parameters={}
2026-02-16T14:27:49.239+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#confirmPayment(Long)
2026-02-16T14:27:49.239+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.s.impl.RegistrationServiceImpl     : 确认支付 - 挂号ID: 5
2026-02-16T14:27:49.240+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T14:27:49.241+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 5(Long)
2026-02-16T14:27:49.243+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T14:27:49.259+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T14:27:49.259+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.RegistrationMapper.updateById    : ==>  Preparing: UPDATE registration SET payment_status=?, payment_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T14:27:49.260+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.RegistrationMapper.updateById    : ==> Parameters: PAID(String), 2026-02-16T14:27:49.243523(LocalDateTime), 2026-02-16T14:27:49.259538100(LocalDateTime), 5(Long)
2026-02-16T14:27:49.263+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.RegistrationMapper.updateById    : <==    Updates: 1
2026-02-16T14:27:49.263+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.s.impl.RegistrationServiceImpl     : 支付确认成功 - ID: 5
2026-02-16T14:27:49.263+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T14:27:49.264+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=支付成功, data={})]
2026-02-16T14:27:49.264+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T14:28:30.220+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/registration/page?pageNum=1&pageSize=10&patientId=5", parameters={masked}
2026-02-16T14:28:30.220+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#getRegistrationPage(Integer, Integer, Long, Long, Long, LocalDate, String)
2026-02-16T14:28:30.222+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.s.impl.RegistrationServiceImpl     : 分页查询挂号列表 - 页码: 1, 每页大小: 10, 患者ID: 5, 医生ID: null, 科室ID: null, 日期: null, 状态: null
2026-02-16T14:28:30.342+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.R.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM registration r WHERE r.deleted = 0 AND r.patient_id = ?
2026-02-16T14:28:30.342+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.R.selectPageWithDetails_mpCount  : ==> Parameters: 5(Long)
2026-02-16T14:28:30.343+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.R.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-16T14:28:30.346+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.R.selectPageWithDetails          : ==>  Preparing: SELECT r.id, r.registration_no, r.patient_id, p.real_name as patient_name, p.phone as patient_phone, r.doctor_id, doc_user.real_name as doctor_name, doc.title as doctor_title, r.department_id, dept.name as department_name, r.schedule_id, r.registration_date, r.time_slot, r.queue_number, r.registration_fee, r.status, r.symptom, r.payment_status, r.payment_time, r.create_time, r.update_time FROM registration r LEFT JOIN user p ON r.patient_id = p.id AND p.deleted = 0 LEFT JOIN doctor doc ON r.doctor_id = doc.id AND doc.deleted = 0 LEFT JOIN user doc_user ON doc.user_id = doc_user.id AND doc_user.deleted = 0 LEFT JOIN department dept ON r.department_id = dept.id AND dept.deleted = 0 WHERE r.deleted = 0 AND r.patient_id = ? ORDER BY r.registration_date DESC, r.create_time DESC LIMIT ?
2026-02-16T14:28:30.348+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.R.selectPageWithDetails          : ==> Parameters: 5(Long), 10(Long)
2026-02-16T14:28:30.351+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.R.selectPageWithDetails          : <==      Total: 2
2026-02-16T14:28:30.352+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.s.impl.RegistrationServiceImpl     : 查询到 2 条挂号记录,共 1 页
2026-02-16T14:28:30.352+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T14:28:30.353+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[RegistrationVO(id=5, registrat (truncated)...]
2026-02-16T14:28:30.357+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T14:29:37.059+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/cancel/5", parameters={}
2026-02-16T14:29:37.059+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#cancelRegistration(Long)
2026-02-16T14:29:37.060+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.RegistrationServiceImpl     : 取消挂号 - ID: 5
2026-02-16T14:29:37.061+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T14:29:37.061+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 5(Long)
2026-02-16T14:29:37.063+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T14:29:37.065+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.increaseRemainingNumber        : ==>  Preparing: UPDATE schedule SET remaining_number = remaining_number + 1, status = CASE WHEN status = 2 THEN 1 ELSE status END WHERE id = ? AND remaining_number < total_number AND deleted = 0
2026-02-16T14:29:37.065+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.increaseRemainingNumber        : ==> Parameters: 7(Long)
2026-02-16T14:29:37.066+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.increaseRemainingNumber        : <==    Updates: 1
2026-02-16T14:29:37.066+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.RegistrationServiceImpl     : 挂号已支付，需要退费 - ID: 5，挂号单号: REG202602161426251746，挂号费: 60.00
2026-02-16T14:29:37.068+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.RegistrationServiceImpl     : 挂号取消成功，已发起退款 - ID: 5，退款金额: 60.00
2026-02-16T14:29:37.069+08:00  INFO 27712 --- [smart-hospital-registration] [task-1] c.h.r.service.impl.PaymentServiceImpl    : 【异步退款】开始处理退款 - 挂号单号: REG202602161426251746, 退款金额: 60.00
2026-02-16T14:29:37.069+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T14:29:37.070+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.RegistrationMapper.updateById    : ==>  Preparing: UPDATE registration SET status=?, payment_status=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T14:29:37.071+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.RegistrationMapper.updateById    : ==> Parameters: CANCELLED(String), REFUNDED(String), 2026-02-16T14:29:37.069912800(LocalDateTime), 5(Long)
2026-02-16T14:29:37.073+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.RegistrationMapper.updateById    : <==    Updates: 1
2026-02-16T14:29:37.073+08:00  INFO 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.RegistrationServiceImpl     : 挂号取消成功 - ID: 5
2026-02-16T14:29:37.076+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T14:29:37.078+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=挂号取消成功, data={})]
2026-02-16T14:29:37.078+08:00 DEBUG 27712 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T14:29:37.081+08:00  INFO 27712 --- [smart-hospital-registration] [task-1] c.h.r.service.impl.PaymentServiceImpl    : 【异步退款】退款消息已发送到队列 - 挂号单号: REG202602161426251746
2026-02-16T14:29:37.101+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【退款消费者】收到退款消息 - 挂号单号: REG202602161426251746, 金额: 60.00
2026-02-16T14:29:39.102+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【模拟退款】退款成功 - 挂号单号: REG202602161426251746, 退款金额: 60.00 元
2026-02-16T14:29:39.102+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【退款消费者】退款处理成功 - 挂号单号: REG202602161426251746
2026-02-16T16:20:44.884+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T16:20:45.848+08:00  INFO 27712 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T16:20:45.848+08:00  INFO 27712 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T16:20:46.104+08:00  INFO 27712 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T16:20:46.116+08:00  INFO 27712 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-16T16:20:46.118+08:00  INFO 27712 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-16T16:45:40.489+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T16:45:40.493+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T16:45:40.494+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T16:45:40.548+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-16T16:45:40.548+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-16T16:45:41.752+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T16:45:41.764+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T16:45:41.765+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T16:45:41.804+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T16:45:41.804+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1256 ms
2026-02-16T16:45:42.099+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T16:45:42.138+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T16:45:42.167+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T16:45:42.188+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T16:45:42.297+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T16:45:42.869+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T16:45:42.943+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T16:45:42.959+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T16:45:43.002+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T16:45:43.129+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T16:45:43.208+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T16:45:43.210+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T16:45:43.251+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#646f3817:0/SimpleConnection@7b3a2d1e [delegate=amqp://guest@192.168.119.3:5672/, localPort=49910]
2026-02-16T16:45:43.310+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 3.323 seconds (process running for 3.906)
2026-02-16T16:45:43.312+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T16:46:05.429+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-16T16:46:05.429+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-16T16:46:05.429+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-16T16:46:05.429+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-16T16:46:05.429+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-16T16:46:05.430+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6e5b77b3
2026-02-16T16:46:05.430+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@16abbb8e
2026-02-16T16:46:05.431+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-16T16:46:05.431+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-16T16:46:05.438+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/user/login", parameters={}
2026-02-16T16:46:05.450+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.UserController#login(LoginDTO)
2026-02-16T16:46:05.526+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDTO(username=zhangsan, password=123456)]
2026-02-16T16:46:05.574+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.controller.UserController          : 收到登录请求 - 用户名: zhangsan
2026-02-16T16:46:05.576+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.UserServiceImpl       : 用户登录 - 用户名: zhangsan
2026-02-16T16:46:05.595+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-16T16:46:05.780+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17fca3d9
2026-02-16T16:46:05.783+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-16T16:46:05.790+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.UserMapper.selectByUsername      : ==>  Preparing: select id,username,password,real_name,id_card,phone, gender,birth_date,email,role,status, create_time,update_time from user where username = ?
2026-02-16T16:46:05.821+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.UserMapper.selectByUsername      : ==> Parameters: zhangsan(String)
2026-02-16T16:46:05.848+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.UserMapper.selectByUsername      : <==      Total: 1
2026-02-16T16:46:05.978+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.registration.utils.PasswordUtil      : 密码验证结果: true
2026-02-16T16:46:06.016+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.hospital.registration.utils.JwtUtil    : 生成Token成功 - userId: 5, username: zhangsan
2026-02-16T16:46:06.016+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.UserServiceImpl       : 用户登录成功 - ID: 5, 用户名: zhangsan
2026-02-16T16:46:06.033+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:46:06.039+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=登录成功, data={user=UserVO(id=5, username=zhangsan, realName=张三, (truncated)...]
2026-02-16T16:46:06.055+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:46:20.425+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/department/5/available?startDate=2026-02-20&endDate=2026-02-27", parameters={masked}
2026-02-16T16:46:20.426+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getAvailableSchedulesByDepartment(Long, LocalDate, LocalDate)
2026-02-16T16:46:20.431+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.ScheduleServiceImpl   : 查询科室的可预约排班列表 - 科室ID: 5, 开始日期: 2026-02-20, 结束日期: 2026-02-27
2026-02-16T16:46:20.433+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-16T16:46:20.433+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-16T16:46:20.437+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-16T16:46:20.440+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectAvailableByDepartment    : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, d.registration_fee, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.department_id = ? AND s.schedule_date BETWEEN ? AND ? AND s.status = 1 AND s.remaining_number > 0 AND s.deleted = 0 ORDER BY s.schedule_date ASC, s.time_slot ASC
2026-02-16T16:46:20.441+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectAvailableByDepartment    : ==> Parameters: 5(Long), 2026-02-20(LocalDate), 2026-02-27(LocalDate)
2026-02-16T16:46:20.451+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectAvailableByDepartment    : <==      Total: 5
2026-02-16T16:46:20.452+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 5 条可预约排班
2026-02-16T16:46:20.453+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:46:20.459+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedules=[ScheduleVO(id=2, doctorId=1, doctorNam (truncated)...]
2026-02-16T16:46:20.467+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:47:03.855+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/create", parameters={}
2026-02-16T16:47:03.855+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#createRegistration(RegistrationDTO)
2026-02-16T16:47:03.864+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegistrationDTO(scheduleId=7, patientId=5, symptom=test测试完善支付模块后取消挂号并退款的流程)]
2026-02-16T16:47:03.874+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.s.impl.RegistrationServiceImpl     : 创建挂号 - 患者ID: 5, 排班ID: 7
2026-02-16T16:47:03.876+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-16T16:47:03.876+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 5(Long)
2026-02-16T16:47:03.878+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-16T16:47:03.878+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, d.registration_fee, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-16T16:47:03.879+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 7(Long)
2026-02-16T16:47:03.880+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-16T16:47:03.882+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.S.decreaseRemainingNumber        : ==>  Preparing: UPDATE schedule SET remaining_number = remaining_number - 1, status = CASE WHEN remaining_number - 1 = 0 THEN 2 ELSE status END WHERE id = ? AND remaining_number > 0 AND deleted = 0
2026-02-16T16:47:03.882+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.S.decreaseRemainingNumber        : ==> Parameters: 7(Long)
2026-02-16T16:47:03.883+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.S.decreaseRemainingNumber        : <==    Updates: 1
2026-02-16T16:47:03.883+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.R.selectMaxQueueNumber           : ==>  Preparing: SELECT COALESCE(MAX(queue_number), 0) FROM registration WHERE schedule_id = ? AND deleted = 0
2026-02-16T16:47:03.884+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.R.selectMaxQueueNumber           : ==> Parameters: 7(Long)
2026-02-16T16:47:03.886+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.R.selectMaxQueueNumber           : <==      Total: 1
2026-02-16T16:47:03.907+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-16T16:47:03.909+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.RegistrationMapper.insert   : ==>  Preparing: INSERT INTO registration ( registration_no, patient_id, doctor_id, department_id, schedule_id, registration_date, time_slot, queue_number, registration_fee, status, symptom, payment_status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-16T16:47:03.910+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.RegistrationMapper.insert   : ==> Parameters: REG202602161647031281(String), 5(Long), 1(Long), 5(Long), 7(Long), 2026-02-23(LocalDate), MORNING(String), 2(Integer), 60.00(BigDecimal), PENDING(String), test测试完善支付模块后取消挂号并退款的流程(String), PENDING(String), 2026-02-16T16:47:03.907071200(LocalDateTime), 2026-02-16T16:47:03.909070700(LocalDateTime)
2026-02-16T16:47:03.912+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.RegistrationMapper.insert   : <==    Updates: 1
2026-02-16T16:47:03.914+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.s.impl.RegistrationServiceImpl     : 挂号创建成功 - ID: 6, 挂号单号: REG202602161647031281, 排队号: 2
2026-02-16T16:47:03.914+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.R.selectDetailById               : ==>  Preparing: SELECT r.id, r.registration_no, r.patient_id, p.real_name as patient_name, p.phone as patient_phone, r.doctor_id, doc_user.real_name as doctor_name, doc.title as doctor_title, r.department_id, dept.name as department_name, r.schedule_id, r.registration_date, r.time_slot, r.queue_number, r.registration_fee, r.status, r.symptom, r.payment_status, r.payment_time, r.create_time, r.update_time FROM registration r LEFT JOIN user p ON r.patient_id = p.id AND p.deleted = 0 LEFT JOIN doctor doc ON r.doctor_id = doc.id AND doc.deleted = 0 LEFT JOIN user doc_user ON doc.user_id = doc_user.id AND doc_user.deleted = 0 LEFT JOIN department dept ON r.department_id = dept.id AND dept.deleted = 0 WHERE r.id = ? AND r.deleted = 0 LIMIT 1
2026-02-16T16:47:03.916+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.R.selectDetailById               : ==> Parameters: 6(Long)
2026-02-16T16:47:03.929+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.R.selectDetailById               : <==      Total: 1
2026-02-16T16:47:03.935+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:47:03.946+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=挂号成功, data={registration=RegistrationVO(id=6, registrationNo= (truncated)...]
2026-02-16T16:47:03.951+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:50:51.833+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment", parameters={}
2026-02-16T16:50:51.837+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-16T16:50:51.837+08:00 ERROR 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-02-16T16:50:51.853+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:50:51.854+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-16T16:50:51.855+08:00  WARN 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2026-02-16T16:50:51.855+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:51:04.696+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/payment", parameters={}
2026-02-16T16:51:04.698+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#createPayment(PaymentDTO)
2026-02-16T16:51:04.701+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PaymentDTO(registrationId=6, paymentMethod=WECHAT, amount=60.00)]
2026-02-16T16:51:04.705+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.controller.PaymentController       : 创建支付订单 - 挂号ID: 6
2026-02-16T16:51:04.705+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.PaymentServiceImpl    : 创建支付订单 - 挂号ID: 6, 支付方式: WECHAT
2026-02-16T16:51:04.707+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T16:51:04.707+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T16:51:04.709+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T16:51:04.710+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T16:51:04.710+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: 6(Long)
2026-02-16T16:51:04.711+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.P.selectByRegistrationId         : <==      Total: 0
2026-02-16T16:51:04.713+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-16T16:51:04.713+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.PaymentMapper.insert        : ==>  Preparing: INSERT INTO payment ( transaction_no, registration_id, user_id, amount, payment_method, payment_status, remark, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-16T16:51:04.714+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.PaymentMapper.insert        : ==> Parameters: PAY202602161651041124(String), 6(Long), 5(Long), 60.00(BigDecimal), WECHAT(String), PENDING(String), 挂号费支付(String), 2026-02-16T16:51:04.713840200(LocalDateTime), 2026-02-16T16:51:04.713840200(LocalDateTime)
2026-02-16T16:51:04.715+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.PaymentMapper.insert        : <==    Updates: 1
2026-02-16T16:51:04.716+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.PaymentServiceImpl    : 支付订单创建成功 - 交易流水号: PAY202602161651041124
2026-02-16T16:51:04.730+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:51:04.731+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=支付订单创建成功, data={payment=PaymentVO(id=1, transactionNo=PAY2026 (truncated)...]
2026-02-16T16:51:04.734+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:54:51.950+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/payment/callback/PAY202602161651041124", parameters={}
2026-02-16T16:54:51.952+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#paymentCallback(String)
2026-02-16T16:54:51.952+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.controller.PaymentController       : 支付回调 - 交易流水号: PAY202602161651041124
2026-02-16T16:54:51.952+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.PaymentServiceImpl    : 处理支付回调 - 交易流水号: PAY202602161651041124
2026-02-16T16:54:51.954+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.P.selectByTransactionNo          : ==>  Preparing: SELECT * FROM payment WHERE transaction_no = ? AND deleted = 0 LIMIT 1
2026-02-16T16:54:51.955+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.P.selectByTransactionNo          : ==> Parameters: PAY202602161651041124(String)
2026-02-16T16:54:51.956+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.P.selectByTransactionNo          : <==      Total: 1
2026-02-16T16:54:51.971+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T16:54:51.971+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.PaymentMapper.updateById    : ==>  Preparing: UPDATE payment SET payment_status=?, payment_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T16:54:51.973+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.PaymentMapper.updateById    : ==> Parameters: PAID(String), 2026-02-16T16:54:51.957102800(LocalDateTime), 2026-02-16T16:54:51.971097500(LocalDateTime), 1(Long)
2026-02-16T16:54:51.974+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.PaymentMapper.updateById    : <==    Updates: 1
2026-02-16T16:54:51.979+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T16:54:51.980+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.updateById    : ==>  Preparing: UPDATE registration SET payment_status=?, payment_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T16:54:51.981+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.updateById    : ==> Parameters: PAID(String), 2026-02-16T16:54:51.975104400(LocalDateTime), 2026-02-16T16:54:51.980109900(LocalDateTime), 6(Long)
2026-02-16T16:54:51.982+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.updateById    : <==    Updates: 1
2026-02-16T16:54:51.982+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.PaymentServiceImpl    : 支付回调处理成功 - 交易流水号: PAY202602161651041124
2026-02-16T16:54:51.997+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:54:51.997+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=支付成功, data={})]
2026-02-16T16:54:51.998+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:57:35.193+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/registration/1", parameters={}
2026-02-16T16:57:35.194+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getPaymentByRegistrationId(Long)
2026-02-16T16:57:35.195+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.controller.PaymentController       : 查询支付记录 - 挂号ID: 1
2026-02-16T16:57:35.195+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.PaymentServiceImpl    : 查询支付记录 - 挂号ID: 1
2026-02-16T16:57:35.196+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T16:57:35.197+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: 1(Long)
2026-02-16T16:57:35.198+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.P.selectByRegistrationId         : <==      Total: 0
2026-02-16T16:57:35.199+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:57:35.199+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payment=null})]
2026-02-16T16:57:35.200+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:58:00.055+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/registration/6", parameters={}
2026-02-16T16:58:00.056+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getPaymentByRegistrationId(Long)
2026-02-16T16:58:00.056+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.controller.PaymentController       : 查询支付记录 - 挂号ID: 6
2026-02-16T16:58:00.056+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.PaymentServiceImpl    : 查询支付记录 - 挂号ID: 6
2026-02-16T16:58:00.057+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T16:58:00.057+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: 6(Long)
2026-02-16T16:58:00.059+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.P.selectByRegistrationId         : <==      Total: 1
2026-02-16T16:58:00.060+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T16:58:00.061+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T16:58:00.063+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T16:58:00.064+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:58:00.064+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payment=PaymentVO(id=1, transactionNo=PAY20260216 (truncated)...]
2026-02-16T16:58:00.065+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T16:58:59.120+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/transaction/PAY202602161651041124", parameters={}
2026-02-16T16:58:59.120+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getPaymentByTransactionNo(String)
2026-02-16T16:58:59.121+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.controller.PaymentController       : 查询支付记录 - 交易流水号: PAY202602161651041124
2026-02-16T16:58:59.121+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.PaymentServiceImpl    : 查询支付记录 - 交易流水号: PAY202602161651041124
2026-02-16T16:58:59.122+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.P.selectByTransactionNo          : ==>  Preparing: SELECT * FROM payment WHERE transaction_no = ? AND deleted = 0 LIMIT 1
2026-02-16T16:58:59.122+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.P.selectByTransactionNo          : ==> Parameters: PAY202602161651041124(String)
2026-02-16T16:58:59.123+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.P.selectByTransactionNo          : <==      Total: 1
2026-02-16T16:58:59.124+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T16:58:59.124+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T16:58:59.125+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T16:58:59.126+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T16:58:59.126+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payment=PaymentVO(id=1, transactionNo=PAY20260216 (truncated)...]
2026-02-16T16:58:59.127+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:00:08.252+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/my", parameters={}
2026-02-16T17:00:08.253+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getMyPayments(String)
2026-02-16T17:00:08.256+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.PaymentController.getMyPayments(java.lang.String): Required request header 'Authorization' for method parameter type String is not present
2026-02-16T17:00:08.257+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-16T17:00:08.257+08:00 ERROR 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.bind.MissingRequestHeaderException: Required request header 'Authorization' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestHeaderMethodArgumentResolver.handleMissingValue(RequestHeaderMethodArgumentResolver.java:87) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.handleMissingValue(AbstractNamedValueMethodArgumentResolver.java:234) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-02-16T17:00:08.259+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:00:08.260+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-16T17:00:08.260+08:00  WARN 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingRequestHeaderException: Required request header 'Authorization' for method parameter type String is not present]
2026-02-16T17:00:08.260+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:01:18.629+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/my", parameters={}
2026-02-16T17:01:18.629+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getMyPayments(String)
2026-02-16T17:01:18.660+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.controller.PaymentController       : 查询我的支付记录 - 用户ID: 5
2026-02-16T17:01:18.660+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.PaymentServiceImpl    : 查询用户支付记录 - 用户ID: 5
2026-02-16T17:01:18.661+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.PaymentMapper.selectByUserId     : ==>  Preparing: SELECT * FROM payment WHERE user_id = ? AND deleted = 0 ORDER BY create_time DESC
2026-02-16T17:01:18.662+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.PaymentMapper.selectByUserId     : ==> Parameters: 5(Long)
2026-02-16T17:01:18.664+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.PaymentMapper.selectByUserId     : <==      Total: 1
2026-02-16T17:01:18.665+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:01:18.667+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T17:01:18.667+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:01:18.669+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:01:18.669+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payments=[PaymentVO(id=1, transactionNo=PAY202602 (truncated)...]
2026-02-16T17:01:18.670+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:02:03.745+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/cancel/6", parameters={}
2026-02-16T17:02:03.745+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#cancelRegistration(Long)
2026-02-16T17:02:03.747+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.s.impl.RegistrationServiceImpl     : 取消挂号 - ID: 6
2026-02-16T17:02:03.748+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:02:03.748+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T17:02:03.750+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:02:03.750+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.S.increaseRemainingNumber        : ==>  Preparing: UPDATE schedule SET remaining_number = remaining_number + 1, status = CASE WHEN status = 2 THEN 1 ELSE status END WHERE id = ? AND remaining_number < total_number AND deleted = 0
2026-02-16T17:02:03.752+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.S.increaseRemainingNumber        : ==> Parameters: 7(Long)
2026-02-16T17:02:03.752+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.S.increaseRemainingNumber        : <==    Updates: 1
2026-02-16T17:02:03.752+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.s.impl.RegistrationServiceImpl     : 挂号已支付，需要退费 - ID: 6，挂号单号: REG202602161647031281，挂号费: 60.00
2026-02-16T17:02:03.754+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.s.impl.RegistrationServiceImpl     : 挂号取消成功，已发起退款 - ID: 6，退款金额: 60.00
2026-02-16T17:02:03.754+08:00  INFO 39696 --- [smart-hospital-registration] [task-1] c.h.r.service.impl.PaymentServiceImpl    : 【异步退款】开始处理退款 - 挂号单号: REG202602161647031281, 退款金额: 60.00
2026-02-16T17:02:03.754+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T17:02:03.755+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.RegistrationMapper.updateById    : ==>  Preparing: UPDATE registration SET status=?, payment_status=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T17:02:03.755+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.RegistrationMapper.updateById    : ==> Parameters: CANCELLED(String), REFUNDED(String), 2026-02-16T17:02:03.754135300(LocalDateTime), 6(Long)
2026-02-16T17:02:03.756+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.RegistrationMapper.updateById    : <==    Updates: 1
2026-02-16T17:02:03.756+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.s.impl.RegistrationServiceImpl     : 挂号取消成功 - ID: 6
2026-02-16T17:02:03.761+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:02:03.761+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=挂号取消成功, data={})]
2026-02-16T17:02:03.761+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:02:03.767+08:00  INFO 39696 --- [smart-hospital-registration] [task-1] c.h.r.service.impl.PaymentServiceImpl    : 【异步退款】退款消息已发送到队列 - 挂号单号: REG202602161647031281
2026-02-16T17:02:03.779+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【退款消费者】收到退款消息 - 挂号单号: REG202602161647031281, 金额: 60.00
2026-02-16T17:02:05.784+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【模拟退款】退款成功 - 挂号单号: REG202602161647031281, 退款金额: 60.00 元
2026-02-16T17:02:05.784+08:00 DEBUG 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T17:02:05.786+08:00 DEBUG 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: null
2026-02-16T17:02:05.787+08:00 DEBUG 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.m.P.selectByRegistrationId         : <==      Total: 0
2026-02-16T17:02:05.787+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【退款消费者】退款处理成功 - 挂号单号: REG202602161647031281
2026-02-16T17:03:42.186+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/my", parameters={}
2026-02-16T17:03:42.186+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getMyPayments(String)
2026-02-16T17:03:42.188+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.controller.PaymentController       : 查询我的支付记录 - 用户ID: 5
2026-02-16T17:03:42.188+08:00  INFO 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.PaymentServiceImpl    : 查询用户支付记录 - 用户ID: 5
2026-02-16T17:03:42.189+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.PaymentMapper.selectByUserId     : ==>  Preparing: SELECT * FROM payment WHERE user_id = ? AND deleted = 0 ORDER BY create_time DESC
2026-02-16T17:03:42.190+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.PaymentMapper.selectByUserId     : ==> Parameters: 5(Long)
2026-02-16T17:03:42.191+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.PaymentMapper.selectByUserId     : <==      Total: 1
2026-02-16T17:03:42.192+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:03:42.192+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T17:03:42.193+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:03:42.194+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:03:42.194+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payments=[PaymentVO(id=1, transactionNo=PAY202602 (truncated)...]
2026-02-16T17:03:42.195+08:00 DEBUG 39696 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:38:00.546+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:38:00.554+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:00.977+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:00.978+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:01.251+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:01.263+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-16T17:38:01.266+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-16T17:38:01.386+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:01.386+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:01.386+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:01.691+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:01.692+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:01.692+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:01.702+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:01.702+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 314 ms
2026-02-16T17:38:01.757+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:01.774+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:01.795+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:01.815+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:01.890+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:02.190+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:02.227+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:02.235+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:02.244+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:02.289+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:02.311+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:02.311+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:02.321+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4cc0b1a3:0/SimpleConnection@45df7271 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60894]
2026-02-16T17:38:02.340+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.992 seconds (process running for 3142.937)
2026-02-16T17:38:02.342+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:02.342+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:03.704+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-02-16T17:38:03.707+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:04.357+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:04.357+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:04.614+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:04.704+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:04.704+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:04.705+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:04.913+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:04.914+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:04.914+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:04.928+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:04.928+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 221 ms
2026-02-16T17:38:04.972+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:04.985+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:04.999+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:05.017+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:05.091+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:05.365+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:05.393+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:05.397+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:05.405+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:05.439+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:05.471+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:05.472+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:05.482+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#61f053b3:0/SimpleConnection@f71a771 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60901]
2026-02-16T17:38:05.500+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.819 seconds (process running for 3146.098)
2026-02-16T17:38:05.501+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:05.503+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:09.920+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:38:09.923+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:10.546+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:10.546+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-11] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:10.807+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:10.876+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:10.876+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:10.876+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:11.090+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:11.091+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:11.091+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:11.100+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:11.100+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 222 ms
2026-02-16T17:38:11.142+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:11.154+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:11.170+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:11.180+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:11.227+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:11.410+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:38:11.411+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:38:11.416+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:38:11.435+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:38:12.914+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:12.914+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:12.914+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:13.183+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:13.183+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:13.183+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:13.199+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:13.199+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 283 ms
2026-02-16T17:38:13.256+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:13.271+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:13.292+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:13.303+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:13.356+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:13.695+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:13.723+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:13.728+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:13.728+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:13.761+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:13.793+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:13.793+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:13.803+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#84cac52:0/SimpleConnection@21edb9d3 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60913]
2026-02-16T17:38:13.823+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.93 seconds (process running for 3154.421)
2026-02-16T17:38:13.826+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:13.826+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:15.202+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:38:15.206+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:15.838+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:15.838+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-15] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:16.107+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:16.213+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:16.213+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:16.215+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:16.445+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:16.445+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:16.445+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:16.455+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:16.455+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 239 ms
2026-02-16T17:38:16.492+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:16.502+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:16.518+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:16.531+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:16.579+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:16.860+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:16.886+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:16.890+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:16.896+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:16.924+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:16.941+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:16.941+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:16.950+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2f5cba1b:0/SimpleConnection@efb6395 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60916]
2026-02-16T17:38:16.967+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.781 seconds (process running for 3157.565)
2026-02-16T17:38:16.968+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:16.968+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:18.366+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-02-16T17:38:18.369+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:18.975+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:18.975+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-22] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:19.235+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:19.320+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:19.320+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:19.320+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:19.510+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:19.510+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:19.510+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:19.529+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:19.529+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 208 ms
2026-02-16T17:38:19.564+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:19.573+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:19.586+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:19.595+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:19.638+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:19.897+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:19.923+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:19.927+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:19.933+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:19.963+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:19.979+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:19.980+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:19.989+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6b8112f7:0/SimpleConnection@1de9df1 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60919]
2026-02-16T17:38:20.007+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.706 seconds (process running for 3160.604)
2026-02-16T17:38:20.008+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:20.008+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:24.467+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:38:24.470+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:25.047+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:25.047+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-26] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:25.315+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:25.410+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:25.410+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:25.410+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:25.625+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:25.626+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:25.626+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:25.636+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:25.636+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 225 ms
2026-02-16T17:38:25.673+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:25.685+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:25.697+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:25.708+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:25.754+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:26.049+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:26.080+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:26.085+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:26.093+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:26.129+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:26.147+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:26.148+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:26.158+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5fe09e02:0/SimpleConnection@73e5d477 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60921]
2026-02-16T17:38:26.175+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.785 seconds (process running for 3166.772)
2026-02-16T17:38:26.176+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:26.176+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:27.561+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-02-16T17:38:27.564+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:28.198+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:28.198+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-30] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:28.456+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:28.526+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:28.526+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:28.526+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:28.725+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:28.725+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:28.725+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:28.745+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:28.745+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 217 ms
2026-02-16T17:38:28.782+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:28.791+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:28.801+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:28.811+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:28.856+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:29.112+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:29.137+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:29.142+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:29.148+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:29.178+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:29.194+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:29.194+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:29.202+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#23a1caf1:0/SimpleConnection@5ff5be16 [delegate=amqp://guest@192.168.119.3:5672/, localPort=60958]
2026-02-16T17:38:29.221+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.714 seconds (process running for 3169.818)
2026-02-16T17:38:29.222+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:29.222+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:31.627+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:38:31.631+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:32.237+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:32.237+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-34] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:32.508+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:32.599+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:32.601+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:32.601+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:32.803+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:32.804+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:32.804+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:32.822+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:32.823+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 221 ms
2026-02-16T17:38:32.859+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:32.868+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:32.882+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:32.895+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:32.939+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:33.126+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:38:33.127+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:38:33.131+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:38:33.134+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:38:34.596+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:34.596+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:34.596+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:34.799+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:34.799+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:34.799+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:34.818+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:34.818+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 221 ms
2026-02-16T17:38:34.852+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:34.861+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:34.871+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:34.882+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:34.928+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:35.186+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:35.211+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:35.215+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:35.222+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:35.252+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:35.269+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:35.270+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:35.279+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5fdf463c:0/SimpleConnection@604f5a8e [delegate=amqp://guest@192.168.119.3:5672/, localPort=60962]
2026-02-16T17:38:35.298+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.719 seconds (process running for 3175.895)
2026-02-16T17:38:35.299+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:35.299+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:38:38.722+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:38:38.726+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:38:39.329+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:38:39.329+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-38] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:38:39.585+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:38:39.683+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:39.684+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:39.684+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:39.866+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:39.867+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:39.867+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:39.876+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:39.876+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 191 ms
2026-02-16T17:38:39.909+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:39.918+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:39.928+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:39.937+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:39.980+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:40.173+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:38:40.173+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:38:40.178+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:38:40.180+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:38:48.776+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:38:48.776+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:38:48.776+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:38:49.021+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:38:49.021+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:38:49.021+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:38:49.051+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:38:49.051+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 275 ms
2026-02-16T17:38:49.086+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:49.086+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:49.102+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:49.116+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:49.164+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:38:49.423+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:38:49.452+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:38:49.452+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:38:49.467+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:38:49.501+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:38:49.514+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:38:49.514+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:38:49.526+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1e1df5c3:0/SimpleConnection@5d4e502c [delegate=amqp://guest@192.168.119.3:5672/, localPort=52236]
2026-02-16T17:38:49.551+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.798 seconds (process running for 3190.148)
2026-02-16T17:38:49.553+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:38:49.553+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:39:32.788+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:39:32.792+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:39:32.896+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:39:32.896+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-45] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:39:33.170+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:39:33.245+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:39:33.245+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:39:33.245+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:39:33.444+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:39:33.445+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:39:33.445+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:39:33.464+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:39:33.464+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 217 ms
2026-02-16T17:39:33.499+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:33.508+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:33.520+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:33.528+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:33.574+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:33.755+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:39:33.756+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:39:33.760+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:39:33.762+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:39:35.223+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:39:35.223+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:39:35.223+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:39:35.444+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:39:35.444+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:39:35.445+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:39:35.454+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:39:35.454+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 230 ms
2026-02-16T17:39:35.493+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:35.501+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:35.513+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:35.523+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:35.568+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:35.836+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:39:35.860+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:39:35.864+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:39:35.871+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:39:35.905+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:39:35.922+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:39:35.923+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:39:35.933+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#609a816:0/SimpleConnection@5c736ae9 [delegate=amqp://guest@192.168.119.3:5672/, localPort=57843]
2026-02-16T17:39:35.954+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.746 seconds (process running for 3236.551)
2026-02-16T17:39:35.955+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:39:35.955+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:39:39.379+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:39:39.383+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:39:39.974+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:39:39.974+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-52] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:39:40.242+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:39:40.323+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:39:40.323+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:39:40.323+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:39:40.516+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:39:40.517+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:39:40.517+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:39:40.527+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:39:40.527+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 202 ms
2026-02-16T17:39:40.562+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:40.570+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:40.581+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:40.590+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:40.635+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:40.822+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:39:40.822+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:39:40.828+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:39:40.830+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:39:42.276+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:39:42.276+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:39:42.276+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:39:42.508+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:39:42.509+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:39:42.510+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:39:42.519+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:39:42.519+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 242 ms
2026-02-16T17:39:42.555+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:42.564+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:42.574+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:42.583+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:42.625+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:42.893+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:39:42.917+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:39:42.920+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:39:42.928+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:39:42.956+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:39:42.972+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:39:42.972+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:39:42.981+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#27d6ffa6:0/SimpleConnection@76ef04aa [delegate=amqp://guest@192.168.119.3:5672/, localPort=49683]
2026-02-16T17:39:43.000+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.744 seconds (process running for 3243.597)
2026-02-16T17:39:43.001+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:39:43.001+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:39:57.593+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:39:57.596+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:39:58.122+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:39:58.122+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-59] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:39:58.381+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:39:58.460+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:39:58.460+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:39:58.460+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:39:58.664+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:39:58.664+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:39:58.665+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:39:58.673+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:39:58.673+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 212 ms
2026-02-16T17:39:58.705+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:58.714+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:58.724+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:58.733+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:58.775+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:39:59.028+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:39:59.052+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:39:59.057+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:39:59.063+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:39:59.093+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:39:59.110+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:39:59.110+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:39:59.120+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7d586892:0/SimpleConnection@3bd752cc [delegate=amqp://guest@192.168.119.3:5672/, localPort=49693]
2026-02-16T17:39:59.139+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.697 seconds (process running for 3259.736)
2026-02-16T17:39:59.140+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:39:59.140+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:40:00.520+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-02-16T17:40:00.523+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:40:01.144+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:40:01.144+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-66] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:40:01.402+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:40:01.481+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:40:01.481+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:40:01.482+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:40:01.661+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:40:01.662+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:40:01.662+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:40:01.671+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:40:01.671+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 188 ms
2026-02-16T17:40:01.705+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:01.713+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:01.723+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:01.732+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:01.784+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:02.057+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:40:02.083+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:40:02.087+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:40:02.095+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:40:02.131+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:40:02.150+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:40:02.151+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:40:02.161+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d10bc3e:0/SimpleConnection@44d7a863 [delegate=amqp://guest@192.168.119.3:5672/, localPort=49695]
2026-02-16T17:40:02.178+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.714 seconds (process running for 3262.775)
2026-02-16T17:40:02.179+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:40:02.179+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:40:13.767+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:40:13.771+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:40:14.273+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:40:14.273+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-70] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:40:14.621+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:40:14.731+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:40:14.731+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:40:14.731+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:40:15.011+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:40:15.014+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:40:15.014+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:40:15.035+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:40:15.036+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 303 ms
2026-02-16T17:40:15.089+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:15.102+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:15.114+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:15.132+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:15.188+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:15.411+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:40:15.411+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:40:15.428+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:40:15.430+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:40:16.879+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:40:16.879+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:40:16.879+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:40:17.107+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:40:17.108+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:40:17.108+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:40:17.126+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:40:17.126+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 245 ms
2026-02-16T17:40:17.158+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:17.167+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:17.176+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:17.185+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:17.227+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:17.482+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:40:17.507+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:40:17.511+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:40:17.518+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:40:17.551+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:40:17.567+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:40:17.567+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:40:17.577+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#31e32f39:0/SimpleConnection@3387efa6 [delegate=amqp://guest@192.168.119.3:5672/, localPort=54808]
2026-02-16T17:40:17.595+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.733 seconds (process running for 3278.193)
2026-02-16T17:40:17.596+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:40:17.596+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:40:31.196+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:40:31.199+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:40:31.728+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:40:31.728+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-74] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:40:31.999+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:40:32.092+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:40:32.092+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:40:32.092+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:40:32.284+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:40:32.285+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:40:32.285+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:40:32.294+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:40:32.294+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 201 ms
2026-02-16T17:40:32.328+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:32.336+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:32.347+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:32.356+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:32.399+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:32.596+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:40:32.596+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:40:32.602+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:40:32.604+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:40:34.045+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:40:34.045+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:40:34.045+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:40:34.246+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:40:34.247+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:40:34.247+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:40:34.256+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:40:34.256+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 210 ms
2026-02-16T17:40:34.289+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:34.297+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:34.307+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:34.316+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:34.358+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:34.611+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:40:34.635+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:40:34.639+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:40:34.645+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:40:34.674+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:40:34.689+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:40:34.689+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:40:34.699+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4ffb8d72:0/SimpleConnection@41d1caa8 [delegate=amqp://guest@192.168.119.3:5672/, localPort=54815]
2026-02-16T17:40:34.718+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.687 seconds (process running for 3295.315)
2026-02-16T17:40:34.718+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:40:34.718+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:40:45.298+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:40:45.301+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:40:45.827+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:40:45.827+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-81] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:40:46.086+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:40:46.173+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:40:46.173+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:40:46.173+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:40:46.358+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:40:46.358+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:40:46.358+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:40:46.377+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:40:46.377+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 203 ms
2026-02-16T17:40:46.409+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:46.418+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:46.430+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:46.441+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:46.481+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:40:46.658+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:40:46.658+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:40:46.663+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:40:46.665+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:41:47.530+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:41:47.530+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:41:47.530+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:41:47.724+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:41:47.726+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:41:47.726+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:41:47.736+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:41:47.736+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 204 ms
2026-02-16T17:41:47.770+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:47.779+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:47.790+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:47.800+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:47.808+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\DepartmentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: com/hospital/registration/common/PaymentStatus
2026-02-16T17:41:47.809+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:41:47.813+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:41:47.816+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\DepartmentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: com/hospital/registration/common/PaymentStatus
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.hospital.registration.HospitalRegistrationApplication.main(HospitalRegistrationApplication.java:16) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: com/hospital/registration/common/PaymentStatus
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 26 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: com/hospital/registration/common/PaymentStatus
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1556) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1450) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: com/hospital/registration/common/PaymentStatus
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1541) ~[spring-beans-6.2.15.jar:6.2.15]
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: com/hospital/registration/common/PaymentStatus
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.15.jar:6.2.15]
	... 64 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/hospital/registration/common/PaymentStatus
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3404) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2506) ~[na:na]
	at org.apache.ibatis.reflection.Reflector.getClassMethods(Reflector.java:292) ~[mybatis-3.5.16.jar:3.5.16]
	at org.apache.ibatis.reflection.Reflector.<init>(Reflector.java:71) ~[mybatis-3.5.16.jar:3.5.16]
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36) ~[mybatis-3.5.16.jar:3.5.16]
	at org.apache.ibatis.reflection.DefaultReflectorFactory.findForClass(DefaultReflectorFactory.java:44) ~[mybatis-3.5.16.jar:3.5.16]
	at org.apache.ibatis.reflection.MetaClass.<init>(MetaClass.java:39) ~[mybatis-3.5.16.jar:3.5.16]
	at org.apache.ibatis.reflection.MetaClass.forClass(MetaClass.java:43) ~[mybatis-3.5.16.jar:3.5.16]
	at com.baomidou.mybatisplus.core.MybatisMapperBuilderAssistant.resolveResultJavaType(MybatisMapperBuilderAssistant.java:120) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisMapperBuilderAssistant.buildResultMapping(MybatisMapperBuilderAssistant.java:55) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.buildResultMappingFromContext(MybatisXMLMapperBuilder.java:360) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.resultMapElement(MybatisXMLMapperBuilder.java:243) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.resultMapElement(MybatisXMLMapperBuilder.java:218) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.resultMapElements(MybatisXMLMapperBuilder.java:210) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.configurationElement(MybatisXMLMapperBuilder.java:125) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.parse(MybatisXMLMapperBuilder.java:102) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:668) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:543) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:701) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:213) ~[mybatis-plus-spring-boot-autoconfigure-3.5.9.jar:3.5.9]
	at jdk.internal.reflect.GeneratedMethodAccessor138.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.15.jar:6.2.15]
	... 67 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.hospital.registration.common.PaymentStatus
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:469) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]
	... 93 common frames omitted

2026-02-16T17:41:49.279+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:41:49.286+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:41:49.286+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:41:49.524+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:41:49.524+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:41:49.524+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:41:49.536+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:41:49.536+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 250 ms
2026-02-16T17:41:49.577+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:49.587+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:49.599+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:49.612+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:49.660+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:41:49.930+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:41:49.957+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:41:49.966+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:41:49.968+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:41:50.017+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:41:50.036+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:41:50.036+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:41:50.045+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#132cbe2d:0/SimpleConnection@53f48e37 [delegate=amqp://guest@192.168.119.3:5672/, localPort=63264]
2026-02-16T17:41:50.066+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.795 seconds (process running for 3370.663)
2026-02-16T17:41:50.066+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:41:50.066+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:42:02.730+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:42:02.733+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:42:03.167+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:42:03.167+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-88] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:42:03.428+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:42:03.515+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:42:03.515+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:42:03.515+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:42:03.701+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:42:03.701+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:42:03.701+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:42:03.738+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:42:03.738+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 222 ms
2026-02-16T17:42:03.771+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:03.780+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:03.791+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:03.802+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:03.841+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:04.024+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:42:04.024+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:42:04.029+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:42:04.032+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:42:05.481+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:42:05.481+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:42:05.481+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:42:05.704+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:42:05.704+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:42:05.704+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:42:05.716+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:42:05.716+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 235 ms
2026-02-16T17:42:05.750+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:05.760+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:05.773+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:05.779+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:05.825+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:06.095+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:42:06.124+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:42:06.128+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:42:06.133+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:42:06.174+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:42:06.194+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:42:06.194+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:42:06.211+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6bd3f09b:0/SimpleConnection@59092603 [delegate=amqp://guest@192.168.119.3:5672/, localPort=63268]
2026-02-16T17:42:06.228+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.764 seconds (process running for 3386.828)
2026-02-16T17:42:06.228+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:42:06.228+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:42:18.838+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:42:18.842+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:42:19.322+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:42:19.322+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-98] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:42:19.662+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:42:19.779+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:42:19.779+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:42:19.779+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:42:20.066+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:42:20.066+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:42:20.068+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:42:20.081+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:42:20.081+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 300 ms
2026-02-16T17:42:20.129+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:20.145+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:20.160+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:20.176+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:20.240+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:20.450+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\PaymentController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.PaymentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:42:20.450+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:42:20.455+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:42:20.457+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.PaymentController required a bean of type 'com.hospital.registration.service.PaymentService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.PaymentService' in your configuration.

2026-02-16T17:42:21.909+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:42:21.909+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:42:21.909+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:42:22.206+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:42:22.206+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:42:22.206+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:42:22.215+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:42:22.215+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 304 ms
2026-02-16T17:42:22.269+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:22.279+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:22.296+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:22.306+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:22.366+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:22.681+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:42:22.706+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:42:22.711+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:42:22.718+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:42:22.747+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:42:22.763+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:42:22.764+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:42:22.774+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#140b69a:0/SimpleConnection@54dc317b [delegate=amqp://guest@192.168.119.3:5672/, localPort=63274]
2026-02-16T17:42:22.792+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.904 seconds (process running for 3403.389)
2026-02-16T17:42:22.793+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:42:22.793+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:42:50.771+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:42:50.775+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:42:51.054+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:42:51.054+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-105] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:42:51.370+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:42:51.459+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:42:51.459+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:42:51.459+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:42:51.673+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:42:51.674+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:42:51.675+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:42:51.684+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:42:51.685+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 225 ms
2026-02-16T17:42:51.718+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:51.728+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:51.738+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:51.748+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:51.792+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:52.058+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:42:52.088+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:42:52.092+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:42:52.099+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:42:52.129+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:42:52.143+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:42:52.144+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:42:52.151+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#27b8d54d:0/SimpleConnection@36469de9 [delegate=amqp://guest@192.168.119.3:5672/, localPort=58841]
2026-02-16T17:42:52.173+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.73 seconds (process running for 3432.771)
2026-02-16T17:42:52.174+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:42:52.174+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:42:57.657+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:42:57.659+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:42:58.231+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:42:58.231+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-112] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:42:58.499+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:42:58.609+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:42:58.609+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:42:58.609+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:42:58.901+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:42:58.901+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:42:58.901+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:42:58.918+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:42:58.918+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 306 ms
2026-02-16T17:42:58.969+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:58.982+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:59.000+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:59.012+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:59.080+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:42:59.377+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'registrationController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\RegistrationController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.RegistrationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:42:59.382+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:42:59.389+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:42:59.393+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.RegistrationController required a bean of type 'com.hospital.registration.service.RegistrationService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.RegistrationService' in your configuration.

2026-02-16T17:43:00.837+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:00.837+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:00.838+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:01.043+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:01.044+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:01.044+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:01.055+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:01.055+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 217 ms
2026-02-16T17:43:01.093+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:01.101+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:01.116+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:01.126+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:01.171+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:01.457+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:43:01.503+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:43:01.511+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:43:01.525+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:43:01.566+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:43:01.585+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:43:01.585+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:43:01.596+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2e5095c6:0/SimpleConnection@236d465e [delegate=amqp://guest@192.168.119.3:5672/, localPort=60796]
2026-02-16T17:43:01.618+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.794 seconds (process running for 3442.215)
2026-02-16T17:43:01.619+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:43:01.619+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:43:07.097+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:43:07.100+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:43:07.659+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:43:07.659+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-116] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:43:07.930+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:43:08.041+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:08.041+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:08.041+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:08.227+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:08.228+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:08.228+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:08.238+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:08.238+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 195 ms
2026-02-16T17:43:08.272+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:08.281+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:08.293+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:08.301+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:08.343+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:08.562+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'registrationController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\RegistrationController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.RegistrationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:43:08.563+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:43:08.567+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:43:08.570+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.RegistrationController required a bean of type 'com.hospital.registration.service.RegistrationService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.RegistrationService' in your configuration.

2026-02-16T17:43:10.020+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:10.020+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:10.020+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:10.230+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:10.231+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:10.231+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:10.241+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:10.241+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 220 ms
2026-02-16T17:43:10.278+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:10.285+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:10.296+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:10.306+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:10.345+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:10.623+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:43:10.665+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:43:10.670+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:43:10.680+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:43:10.712+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:43:10.727+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:43:10.727+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:43:10.737+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#56556399:0/SimpleConnection@25f8bc40 [delegate=amqp://guest@192.168.119.3:5672/, localPort=61017]
2026-02-16T17:43:10.755+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.75 seconds (process running for 3451.352)
2026-02-16T17:43:10.756+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:43:10.756+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:43:17.241+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:43:17.245+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:43:17.832+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:43:17.832+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-123] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:43:18.094+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:43:18.187+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:18.188+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:18.188+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:18.376+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:18.376+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:18.377+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:18.396+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:18.396+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 207 ms
2026-02-16T17:43:18.431+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:18.439+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:18.449+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:18.458+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:18.501+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:18.722+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'registrationController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\RegistrationController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.RegistrationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:43:18.722+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:43:18.727+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:43:18.729+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.RegistrationController required a bean of type 'com.hospital.registration.service.RegistrationService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.RegistrationService' in your configuration.

2026-02-16T17:43:20.196+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:20.196+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:20.196+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:20.500+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:20.501+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:20.501+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:20.512+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:20.512+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 316 ms
2026-02-16T17:43:20.553+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:20.565+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:20.574+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:20.593+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:20.635+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:20.929+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:43:20.963+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:43:20.965+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:43:20.974+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:43:21.021+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:43:21.047+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:43:21.047+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:43:21.058+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2aa1ad40:0/SimpleConnection@5855e99 [delegate=amqp://guest@192.168.119.3:5672/, localPort=61062]
2026-02-16T17:43:21.075+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.899 seconds (process running for 3461.675)
2026-02-16T17:43:21.075+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:43:21.075+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:43:22.442+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:43:22.445+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:43:23.082+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:43:23.082+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-130] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:43:23.465+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:43:23.623+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:23.623+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:23.623+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:23.940+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:23.944+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:23.944+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:23.960+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:23.960+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 334 ms
2026-02-16T17:43:24.006+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:24.022+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:24.035+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:24.047+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:24.092+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:24.377+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:43:24.402+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:43:24.406+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:43:24.412+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:43:24.440+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:43:24.455+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:43:24.456+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:43:24.467+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3125a576:0/SimpleConnection@25fdc7cf [delegate=amqp://guest@192.168.119.3:5672/, localPort=61069]
2026-02-16T17:43:24.489+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.893 seconds (process running for 3465.087)
2026-02-16T17:43:24.490+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:43:24.490+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:43:57.525+08:00  INFO 39696 --- [smart-hospital-registration] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2026-02-16T17:43:57.531+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:43:57.824+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:43:57.824+08:00  INFO 39696 --- [smart-hospital-registration] [Thread-137] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:43:58.171+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:43:58.296+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:43:58.296+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:43:58.296+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:43:58.582+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:43:58.582+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:43:58.582+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:43:58.599+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:43:58.599+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 303 ms
2026-02-16T17:43:58.650+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:58.662+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:58.681+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:58.693+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:58.756+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:43:59.040+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'registrationController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\RegistrationController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hospital.registration.service.RegistrationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-16T17:43:59.041+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-16T17:43:59.044+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-16T17:43:59.044+08:00 ERROR 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hospital.registration.controller.RegistrationController required a bean of type 'com.hospital.registration.service.RegistrationService' that could not be found.


Action:

Consider defining a bean of type 'com.hospital.registration.service.RegistrationService' in your configuration.

2026-02-16T17:44:00.497+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39696 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:44:00.497+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:44:00.497+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:44:00.709+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:44:00.709+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:44:00.709+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:44:00.724+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:44:00.724+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 227 ms
2026-02-16T17:44:00.749+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:44:00.766+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:44:00.774+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:44:00.790+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:44:00.833+08:00  WARN 39696 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:44:01.099+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:44:01.120+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:44:01.132+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:44:01.138+08:00 DEBUG 39696 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:44:01.165+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:44:01.178+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:44:01.178+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:44:01.196+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#72ef02f6:0/SimpleConnection@64fb3b02 [delegate=amqp://guest@192.168.119.3:5672/, localPort=54484]
2026-02-16T17:44:01.213+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 0.734 seconds (process running for 3501.813)
2026-02-16T17:44:01.213+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-02-16T17:44:01.213+08:00  INFO 39696 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:44:25.327+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:44:25.368+08:00  INFO 39696 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:44:25.368+08:00  INFO 39696 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:44:25.628+08:00  INFO 39696 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:46:40.596+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39788 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-16T17:46:40.598+08:00 DEBUG 39788 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-16T17:46:40.598+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-16T17:46:40.647+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-16T17:46:40.647+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-16T17:46:41.725+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-16T17:46:41.737+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-16T17:46:41.737+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-16T17:46:41.776+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-16T17:46:41.776+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1128 ms
2026-02-16T17:46:42.059+08:00  WARN 39788 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:46:42.097+08:00  WARN 39788 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:46:42.128+08:00  WARN 39788 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:46:42.148+08:00  WARN 39788 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:46:42.240+08:00  WARN 39788 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-16T17:46:42.806+08:00 DEBUG 39788 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 43 mappings in 'requestMappingHandlerMapping'
2026-02-16T17:46:42.875+08:00 DEBUG 39788 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-16T17:46:42.893+08:00 DEBUG 39788 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-16T17:46:42.936+08:00 DEBUG 39788 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-16T17:46:43.061+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-16T17:46:43.139+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-16T17:46:43.142+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.119.3:5672]
2026-02-16T17:46:43.184+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3af4a295:0/SimpleConnection@497f5754 [delegate=amqp://guest@192.168.119.3:5672/, localPort=56265]
2026-02-16T17:46:43.242+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 3.14 seconds (process running for 3.719)
2026-02-16T17:46:43.244+08:00  INFO 39788 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-16T17:46:53.272+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-16T17:46:53.273+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-16T17:46:53.273+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-16T17:46:53.273+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-16T17:46:53.273+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-16T17:46:53.274+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5d27602f
2026-02-16T17:46:53.274+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6cee127
2026-02-16T17:46:53.274+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-16T17:46:53.274+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-16T17:46:53.282+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/user/login", parameters={}
2026-02-16T17:46:53.293+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.UserController#login(LoginDTO)
2026-02-16T17:46:53.363+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDTO(username=zhangsan, password=123456)]
2026-02-16T17:46:53.415+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.controller.UserController          : 收到登录请求 - 用户名: zhangsan
2026-02-16T17:46:53.417+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.UserServiceImpl       : 用户登录 - 用户名: zhangsan
2026-02-16T17:46:53.434+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-16T17:46:53.610+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54f1431
2026-02-16T17:46:53.612+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-16T17:46:53.619+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.UserMapper.selectByUsername      : ==>  Preparing: select id,username,password,real_name,id_card,phone, gender,birth_date,email,role,status, create_time,update_time from user where username = ?
2026-02-16T17:46:53.649+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.UserMapper.selectByUsername      : ==> Parameters: zhangsan(String)
2026-02-16T17:46:53.675+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.UserMapper.selectByUsername      : <==      Total: 1
2026-02-16T17:46:53.803+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.registration.utils.PasswordUtil      : 密码验证结果: true
2026-02-16T17:46:53.841+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.hospital.registration.utils.JwtUtil    : 生成Token成功 - userId: 5, username: zhangsan
2026-02-16T17:46:53.844+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.UserServiceImpl       : 用户登录成功 - ID: 5, 用户名: zhangsan
2026-02-16T17:46:53.861+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:46:53.866+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=登录成功, data={user=UserVO(id=5, username=zhangsan, realName=张三, (truncated)...]
2026-02-16T17:46:53.882+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:47:13.847+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/department/5/available?startDate=2026-02-20&endDate=2026-02-27", parameters={masked}
2026-02-16T17:47:13.848+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getAvailableSchedulesByDepartment(Long, LocalDate, LocalDate)
2026-02-16T17:47:13.853+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 查询科室的可预约排班列表 - 科室ID: 5, 开始日期: 2026-02-20, 结束日期: 2026-02-27
2026-02-16T17:47:13.853+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-16T17:47:13.855+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-16T17:47:13.859+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-16T17:47:13.861+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectAvailableByDepartment    : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, d.registration_fee, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.department_id = ? AND s.schedule_date BETWEEN ? AND ? AND s.status = 1 AND s.remaining_number > 0 AND s.deleted = 0 ORDER BY s.schedule_date ASC, s.time_slot ASC
2026-02-16T17:47:13.863+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectAvailableByDepartment    : ==> Parameters: 5(Long), 2026-02-20(LocalDate), 2026-02-27(LocalDate)
2026-02-16T17:47:13.872+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectAvailableByDepartment    : <==      Total: 5
2026-02-16T17:47:13.873+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 5 条可预约排班
2026-02-16T17:47:13.873+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:47:13.878+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedules=[ScheduleVO(id=2, doctorId=1, doctorNam (truncated)...]
2026-02-16T17:47:13.885+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:47:21.230+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/create", parameters={}
2026-02-16T17:47:21.231+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#createRegistration(RegistrationDTO)
2026-02-16T17:47:21.240+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegistrationDTO(scheduleId=7, patientId=5, symptom=test测试完善支付模块后取消挂号并退款的流程)]
2026-02-16T17:47:21.251+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.RegistrationServiceImpl     : 创建挂号 - 患者ID: 5, 排班ID: 7
2026-02-16T17:47:21.253+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-16T17:47:21.253+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 5(Long)
2026-02-16T17:47:21.255+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-16T17:47:21.256+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, d.registration_fee, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-16T17:47:21.256+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 7(Long)
2026-02-16T17:47:21.257+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-16T17:47:21.259+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.decreaseRemainingNumber        : ==>  Preparing: UPDATE schedule SET remaining_number = remaining_number - 1, status = CASE WHEN remaining_number - 1 = 0 THEN 2 ELSE status END WHERE id = ? AND remaining_number > 0 AND deleted = 0
2026-02-16T17:47:21.259+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.decreaseRemainingNumber        : ==> Parameters: 7(Long)
2026-02-16T17:47:21.260+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.decreaseRemainingNumber        : <==    Updates: 1
2026-02-16T17:47:21.260+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.R.selectMaxQueueNumber           : ==>  Preparing: SELECT COALESCE(MAX(queue_number), 0) FROM registration WHERE schedule_id = ? AND deleted = 0
2026-02-16T17:47:21.261+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.R.selectMaxQueueNumber           : ==> Parameters: 7(Long)
2026-02-16T17:47:21.263+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.R.selectMaxQueueNumber           : <==      Total: 1
2026-02-16T17:47:21.288+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-16T17:47:21.290+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.RegistrationMapper.insert   : ==>  Preparing: INSERT INTO registration ( registration_no, patient_id, doctor_id, department_id, schedule_id, registration_date, time_slot, queue_number, registration_fee, status, symptom, payment_status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-16T17:47:21.292+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.RegistrationMapper.insert   : ==> Parameters: REG202602161747213346(String), 5(Long), 1(Long), 5(Long), 7(Long), 2026-02-23(LocalDate), MORNING(String), 3(Integer), 60.00(BigDecimal), PENDING(String), test测试完善支付模块后取消挂号并退款的流程(String), PENDING(String), 2026-02-16T17:47:21.288311600(LocalDateTime), 2026-02-16T17:47:21.290309700(LocalDateTime)
2026-02-16T17:47:21.294+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.RegistrationMapper.insert   : <==    Updates: 1
2026-02-16T17:47:21.296+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.RegistrationServiceImpl     : 挂号创建成功 - ID: 7, 挂号单号: REG202602161747213346, 排队号: 3
2026-02-16T17:47:21.297+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.R.selectDetailById               : ==>  Preparing: SELECT r.id, r.registration_no, r.patient_id, p.real_name as patient_name, p.phone as patient_phone, r.doctor_id, doc_user.real_name as doctor_name, doc.title as doctor_title, r.department_id, dept.name as department_name, r.schedule_id, r.registration_date, r.time_slot, r.queue_number, r.registration_fee, r.status, r.symptom, r.payment_status, r.payment_time, r.create_time, r.update_time FROM registration r LEFT JOIN user p ON r.patient_id = p.id AND p.deleted = 0 LEFT JOIN doctor doc ON r.doctor_id = doc.id AND doc.deleted = 0 LEFT JOIN user doc_user ON doc.user_id = doc_user.id AND doc_user.deleted = 0 LEFT JOIN department dept ON r.department_id = dept.id AND dept.deleted = 0 WHERE r.id = ? AND r.deleted = 0 LIMIT 1
2026-02-16T17:47:21.298+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.R.selectDetailById               : ==> Parameters: 7(Long)
2026-02-16T17:47:21.300+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.R.selectDetailById               : <==      Total: 1
2026-02-16T17:47:21.318+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:47:21.330+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=挂号成功, data={registration=RegistrationVO(id=7, registrationNo= (truncated)...]
2026-02-16T17:47:21.334+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:49:04.860+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/payment", parameters={}
2026-02-16T17:49:04.861+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#createPayment(PaymentDTO)
2026-02-16T17:49:04.864+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PaymentDTO(registrationId=7, paymentMethod=WECHAT, amount=60.00)]
2026-02-16T17:49:04.867+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.controller.PaymentController       : 创建支付订单 - 挂号ID: 7
2026-02-16T17:49:04.868+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.PaymentServiceImpl    : 创建支付订单 - 挂号ID: 7, 支付方式: WECHAT
2026-02-16T17:49:04.869+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:49:04.870+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 7(Long)
2026-02-16T17:49:04.872+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:49:04.872+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T17:49:04.872+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: 7(Long)
2026-02-16T17:49:04.874+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.P.selectByRegistrationId         : <==      Total: 0
2026-02-16T17:49:04.876+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-16T17:49:04.877+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.PaymentMapper.insert        : ==>  Preparing: INSERT INTO payment ( transaction_no, registration_id, user_id, amount, payment_method, payment_status, remark, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-16T17:49:04.878+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.PaymentMapper.insert        : ==> Parameters: PAY202602161749048061(String), 7(Long), 5(Long), 60.00(BigDecimal), WECHAT(String), PENDING(String), 挂号费支付(String), 2026-02-16T17:49:04.877024100(LocalDateTime), 2026-02-16T17:49:04.877024100(LocalDateTime)
2026-02-16T17:49:04.879+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.PaymentMapper.insert        : <==    Updates: 1
2026-02-16T17:49:04.879+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.PaymentServiceImpl    : 支付订单创建成功 - 交易流水号: PAY202602161749048061
2026-02-16T17:49:04.896+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:49:04.896+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=支付订单创建成功, data={payment=PaymentVO(id=2, transactionNo=PAY2026 (truncated)...]
2026-02-16T17:49:04.899+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:50:13.842+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/payment/callback/PAY202602161749048061", parameters={}
2026-02-16T17:50:13.843+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#paymentCallback(String)
2026-02-16T17:50:13.843+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.controller.PaymentController       : 支付回调 - 交易流水号: PAY202602161749048061
2026-02-16T17:50:13.844+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.PaymentServiceImpl    : 处理支付回调 - 交易流水号: PAY202602161749048061
2026-02-16T17:50:13.845+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.P.selectByTransactionNo          : ==>  Preparing: SELECT * FROM payment WHERE transaction_no = ? AND deleted = 0 LIMIT 1
2026-02-16T17:50:13.845+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.P.selectByTransactionNo          : ==> Parameters: PAY202602161749048061(String)
2026-02-16T17:50:13.846+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.P.selectByTransactionNo          : <==      Total: 1
2026-02-16T17:50:13.862+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T17:50:13.862+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.PaymentMapper.updateById    : ==>  Preparing: UPDATE payment SET payment_status=?, payment_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T17:50:13.864+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.PaymentMapper.updateById    : ==> Parameters: PAID(String), 2026-02-16T17:50:13.846661400(LocalDateTime), 2026-02-16T17:50:13.862529400(LocalDateTime), 2(Long)
2026-02-16T17:50:13.865+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.PaymentMapper.updateById    : <==    Updates: 1
2026-02-16T17:50:13.868+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T17:50:13.869+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.RegistrationMapper.updateById    : ==>  Preparing: UPDATE registration SET payment_status=?, payment_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T17:50:13.869+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.RegistrationMapper.updateById    : ==> Parameters: PAID(String), 2026-02-16T17:50:13.865532300(LocalDateTime), 2026-02-16T17:50:13.868619200(LocalDateTime), 7(Long)
2026-02-16T17:50:13.870+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.RegistrationMapper.updateById    : <==    Updates: 1
2026-02-16T17:50:13.871+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.PaymentServiceImpl    : 支付回调处理成功 - 交易流水号: PAY202602161749048061
2026-02-16T17:50:13.885+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:50:13.886+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=支付成功, data={})]
2026-02-16T17:50:13.887+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:51:46.618+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/my", parameters={}
2026-02-16T17:51:46.618+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getMyPayments(String)
2026-02-16T17:51:46.638+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.controller.PaymentController       : 查询我的支付记录 - 用户ID: 5
2026-02-16T17:51:46.639+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.PaymentServiceImpl    : 查询用户支付记录 - 用户ID: 5
2026-02-16T17:51:46.641+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.PaymentMapper.selectByUserId     : ==>  Preparing: SELECT * FROM payment WHERE user_id = ? AND deleted = 0 ORDER BY create_time DESC
2026-02-16T17:51:46.642+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.PaymentMapper.selectByUserId     : ==> Parameters: 5(Long)
2026-02-16T17:51:46.643+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.PaymentMapper.selectByUserId     : <==      Total: 2
2026-02-16T17:51:46.644+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:51:46.645+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 7(Long)
2026-02-16T17:51:46.646+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:51:46.647+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:51:46.648+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T17:51:46.650+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:51:46.650+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:51:46.651+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payments=[PaymentVO(id=2, transactionNo=PAY202602 (truncated)...]
2026-02-16T17:51:46.652+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:51:50.252+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/my", parameters={}
2026-02-16T17:51:50.253+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getMyPayments(String)
2026-02-16T17:51:50.256+08:00 ERROR 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.hospital.registration.utils.JwtUtil    : Token解析失败: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2026-02-16T17:51:50.256+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:51:50.256+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=无效的token, data={})]
2026-02-16T17:51:50.257+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:51:53.966+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/payment/my", parameters={}
2026-02-16T17:51:53.967+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.PaymentController#getMyPayments(String)
2026-02-16T17:51:53.969+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.controller.PaymentController       : 查询我的支付记录 - 用户ID: 5
2026-02-16T17:51:53.969+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.PaymentServiceImpl    : 查询用户支付记录 - 用户ID: 5
2026-02-16T17:51:53.970+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.PaymentMapper.selectByUserId     : ==>  Preparing: SELECT * FROM payment WHERE user_id = ? AND deleted = 0 ORDER BY create_time DESC
2026-02-16T17:51:53.970+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.PaymentMapper.selectByUserId     : ==> Parameters: 5(Long)
2026-02-16T17:51:53.972+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.PaymentMapper.selectByUserId     : <==      Total: 2
2026-02-16T17:51:53.972+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:51:53.973+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 7(Long)
2026-02-16T17:51:53.974+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:51:53.975+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:51:53.975+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 6(Long)
2026-02-16T17:51:53.978+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:51:53.979+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:51:53.980+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={payments=[PaymentVO(id=2, transactionNo=PAY202602 (truncated)...]
2026-02-16T17:51:53.981+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:52:27.902+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/registration/cancel/7", parameters={}
2026-02-16T17:52:27.902+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.RegistrationController#cancelRegistration(Long)
2026-02-16T17:52:27.904+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.s.impl.RegistrationServiceImpl     : 取消挂号 - ID: 7
2026-02-16T17:52:27.904+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : ==>  Preparing: SELECT id,registration_no,patient_id,doctor_id,department_id,schedule_id,registration_date,time_slot,queue_number,registration_fee,status,symptom,payment_status,payment_time,create_time,update_time,deleted FROM registration WHERE id=? AND deleted=0
2026-02-16T17:52:27.904+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : ==> Parameters: 7(Long)
2026-02-16T17:52:27.906+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.selectById    : <==      Total: 1
2026-02-16T17:52:27.907+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.increaseRemainingNumber        : ==>  Preparing: UPDATE schedule SET remaining_number = remaining_number + 1, status = CASE WHEN status = 2 THEN 1 ELSE status END WHERE id = ? AND remaining_number < total_number AND deleted = 0
2026-02-16T17:52:27.907+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.increaseRemainingNumber        : ==> Parameters: 7(Long)
2026-02-16T17:52:27.908+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.increaseRemainingNumber        : <==    Updates: 1
2026-02-16T17:52:27.909+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.s.impl.RegistrationServiceImpl     : 挂号已支付，需要退费 - ID: 7，挂号单号: REG202602161747213346，挂号费: 60.00
2026-02-16T17:52:27.911+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.s.impl.RegistrationServiceImpl     : 挂号取消成功，已发起退款 - ID: 7，退款金额: 60.00
2026-02-16T17:52:27.911+08:00  INFO 39788 --- [smart-hospital-registration] [task-1] c.h.r.service.impl.PaymentServiceImpl    : 【异步退款】开始处理退款 - 挂号单号: REG202602161747213346, 退款金额: 60.00
2026-02-16T17:52:27.911+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.m.R.selectByRegistrationNo         : ==>  Preparing: SELECT id, registration_no, patient_id, doctor_id, department_id, schedule_id, registration_date, time_slot, queue_number, registration_fee, status, symptom, payment_status, payment_time, create_time, update_time, deleted FROM registration WHERE registration_no = ? AND deleted = 0 LIMIT 1
2026-02-16T17:52:27.911+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T17:52:27.912+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.updateById    : ==>  Preparing: UPDATE registration SET status=?, payment_status=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T17:52:27.912+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.m.R.selectByRegistrationNo         : ==> Parameters: REG202602161747213346(String)
2026-02-16T17:52:27.912+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.updateById    : ==> Parameters: CANCELLED(String), REFUNDED(String), 2026-02-16T17:52:27.911202800(LocalDateTime), 7(Long)
2026-02-16T17:52:27.913+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.RegistrationMapper.updateById    : <==    Updates: 1
2026-02-16T17:52:27.913+08:00  INFO 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.s.impl.RegistrationServiceImpl     : 挂号取消成功 - ID: 7
2026-02-16T17:52:27.914+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.m.R.selectByRegistrationNo         : <==      Total: 1
2026-02-16T17:52:27.914+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T17:52:27.914+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: 7(Long)
2026-02-16T17:52:27.915+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.m.P.selectByRegistrationId         : <==      Total: 1
2026-02-16T17:52:27.917+08:00  INFO 39788 --- [smart-hospital-registration] [task-1] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T17:52:27.917+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.mapper.PaymentMapper.updateById    : ==>  Preparing: UPDATE payment SET payment_status=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T17:52:27.917+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.mapper.PaymentMapper.updateById    : ==> Parameters: REFUNDING(String), 2026-02-16T17:52:27.917142200(LocalDateTime), 2(Long)
2026-02-16T17:52:27.929+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-16T17:52:27.929+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=挂号取消成功, data={})]
2026-02-16T17:52:27.929+08:00 DEBUG 39788 --- [smart-hospital-registration] [task-1] c.h.r.mapper.PaymentMapper.updateById    : <==    Updates: 1
2026-02-16T17:52:27.930+08:00 DEBUG 39788 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-16T17:52:27.941+08:00  INFO 39788 --- [smart-hospital-registration] [task-1] c.h.r.service.impl.PaymentServiceImpl    : 【异步退款】退款消息已发送到队列 - 挂号单号: REG202602161747213346
2026-02-16T17:52:27.955+08:00  INFO 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【退款消费者】收到退款消息 - 挂号单号: REG202602161747213346, 金额: 60.00
2026-02-16T17:52:29.959+08:00  INFO 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【模拟退款】退款成功 - 挂号单号: REG202602161747213346, 退款金额: 60.00 元
2026-02-16T17:52:29.960+08:00 DEBUG 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.m.P.selectByRegistrationId         : ==>  Preparing: SELECT * FROM payment WHERE registration_id = ? AND deleted = 0 LIMIT 1
2026-02-16T17:52:29.960+08:00 DEBUG 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.m.P.selectByRegistrationId         : ==> Parameters: 7(Long)
2026-02-16T17:52:29.961+08:00 DEBUG 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.m.P.selectByRegistrationId         : <==      Total: 1
2026-02-16T17:52:29.962+08:00  INFO 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-16T17:52:29.963+08:00 DEBUG 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mapper.PaymentMapper.updateById    : ==>  Preparing: UPDATE payment SET payment_status=?, refund_time=?, remark=?, update_time=? WHERE id=? AND deleted=0
2026-02-16T17:52:29.963+08:00 DEBUG 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mapper.PaymentMapper.updateById    : ==> Parameters: REFUNDED(String), 2026-02-16T17:52:29.962244800(LocalDateTime), 取消挂号退款(String), 2026-02-16T17:52:29.962244800(LocalDateTime), 2(Long)
2026-02-16T17:52:29.966+08:00 DEBUG 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mapper.PaymentMapper.updateById    : <==    Updates: 1
2026-02-16T17:52:29.966+08:00  INFO 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.r.mq.RefundMessageConsumer           : 【退款消费者】退款处理成功 - 挂号单号: REG202602161747213346
2026-02-16T17:57:12.937+08:00  INFO 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-02-16T17:57:13.890+08:00  INFO 39788 --- [smart-hospital-registration] [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-02-16T17:57:13.891+08:00  INFO 39788 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-16T17:57:14.160+08:00  INFO 39788 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-16T17:57:14.173+08:00  INFO 39788 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-16T17:57:14.177+08:00  INFO 39788 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
