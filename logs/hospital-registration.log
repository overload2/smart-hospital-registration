2026-02-14T10:56:49.614+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 34004 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T10:56:49.619+08:00 DEBUG 34004 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T10:56:49.620+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T10:56:49.681+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T10:56:49.682+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T10:56:51.314+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T10:56:51.330+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T10:56:51.330+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T10:56:51.377+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T10:56:51.377+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1695 ms
2026-02-14T10:56:51.765+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.809+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.854+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.879+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.905+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.930+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.952+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.ScheduleMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:51.974+08:00  WARN 34004 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:56:52.338+08:00 DEBUG 34004 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 20 mappings in 'requestMappingHandlerMapping'
2026-02-14T10:56:52.407+08:00 DEBUG 34004 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-14T10:56:52.427+08:00 DEBUG 34004 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-14T10:56:52.475+08:00 DEBUG 34004 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-14T10:56:52.561+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-14T10:56:52.605+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-14T10:56:52.616+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 3.606 seconds (process running for 4.346)
2026-02-14T10:56:52.620+08:00  INFO 34004 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-14T10:58:28.298+08:00  INFO 34004 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-14T10:58:28.561+08:00  INFO 34004 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-14T10:59:01.499+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 30944 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T10:59:01.501+08:00 DEBUG 30944 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T10:59:01.501+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T10:59:01.552+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T10:59:01.552+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T10:59:02.540+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T10:59:02.559+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T10:59:02.559+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T10:59:02.602+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T10:59:02.602+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1050 ms
2026-02-14T10:59:02.879+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:02.914+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:02.949+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:02.969+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:02.989+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:03.020+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:03.039+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.ScheduleMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:03.059+08:00  WARN 30944 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T10:59:03.399+08:00 DEBUG 30944 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 20 mappings in 'requestMappingHandlerMapping'
2026-02-14T10:59:03.474+08:00 DEBUG 30944 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-14T10:59:03.494+08:00 DEBUG 30944 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-14T10:59:03.549+08:00 DEBUG 30944 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-14T10:59:03.649+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-14T10:59:03.701+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-14T10:59:03.714+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 2.704 seconds (process running for 3.305)
2026-02-14T10:59:03.719+08:00  INFO 30944 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-14T11:00:21.611+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-14T11:00:21.611+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-14T11:00:21.611+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-14T11:00:21.611+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-14T11:00:21.611+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-14T11:00:21.612+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@40a513cc
2026-02-14T11:00:21.613+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4ca96de0
2026-02-14T11:00:21.613+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-14T11:00:21.613+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-14T11:00:21.622+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/department/add", parameters={}
2026-02-14T11:00:21.636+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DepartmentController#addDepartment(DepartmentDTO)
2026-02-14T11:00:21.725+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DepartmentDTO(name=内科, code=NK001, description=内科门诊, location=门诊楼2楼201室, phone=0571-12345678)]
2026-02-14T11:00:21.781+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.s.impl.DepartmentServiceImpl       : 新增科室 - 科室名称: 内科, 科室编码: NK001
2026-02-14T11:00:21.805+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-14T11:00:21.996+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2045bc4e
2026-02-14T11:00:21.998+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-14T11:00:22.006+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectByCode    : ==>  Preparing: SELECT id,name,code,description,location,phone, status,create_time,update_time FROM department WHERE code = ? LIMIT 1
2026-02-14T11:00:22.039+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectByCode    : ==> Parameters: NK001(String)
2026-02-14T11:00:22.066+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectByCode    : <==      Total: 0
2026-02-14T11:00:22.074+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T11:00:22.076+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DepartmentMapper.insert     : ==>  Preparing: insert into department ( id,name,code,description,location,phone, status,create_time,update_time) values (?,?,?,?,?,?, ?,?,?)
2026-02-14T11:00:22.078+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DepartmentMapper.insert     : ==> Parameters: null, 内科(String), NK001(String), 内科门诊(String), 门诊楼2楼201室(String), 0571-12345678(String), 1(Integer), 2026-02-14T11:00:22.074453900(LocalDateTime), 2026-02-14T11:00:22.076453100(LocalDateTime)
2026-02-14T11:00:22.087+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DepartmentMapper.insert     : <==    Updates: 1
2026-02-14T11:00:22.089+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.s.impl.DepartmentServiceImpl       : 科室新增成功 - ID: 13, 科室名称: 内科
2026-02-14T11:00:22.108+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:00:22.116+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=科室新增成功, data={department=DepartmentVO(id=13, name=内科, code=NK (truncated)...]
2026-02-14T11:00:22.134+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:02:02.667+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/user/register", parameters={}
2026-02-14T11:02:02.667+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.UserController#register(RegisterDTO)
2026-02-14T11:02:02.683+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegisterDTO(username=doctor_zhang, password=123456, realName=张四, idCard=330106199001011238, phone=13 (truncated)...]
2026-02-14T11:02:02.710+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.controller.UserController          : 收到注册请求 - 用户名: doctor_zhang
2026-02-14T11:02:02.715+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.UserServiceImpl       : 用户注册 - 用户名: doctor_zhang
2026-02-14T11:02:02.717+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.UserMapper.selectByUsername      : ==>  Preparing: select id,username,password,real_name,id_card,phone, gender,birth_date,email,role,status, create_time,update_time from user where username = ?
2026-02-14T11:02:02.718+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.UserMapper.selectByUsername      : ==> Parameters: doctor_zhang(String)
2026-02-14T11:02:02.720+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.UserMapper.selectByUsername      : <==      Total: 0
2026-02-14T11:02:02.843+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.registration.utils.PasswordUtil      : 密码加密成功
2026-02-14T11:02:02.843+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T11:02:02.844+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.UserMapper.insert           : ==>  Preparing: insert into user ( id,username,password,real_name,id_card,phone, gender,birth_date,email,role,status, create_time,update_time) values (?,?,?,?,?,?, ?,?,?,?,?, ?,?)
2026-02-14T11:02:02.845+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.UserMapper.insert           : ==> Parameters: null, doctor_zhang(String), $2a$10$udBTGGPsL.vTzfkg4JfkOuGao1eqVDlcMAOdiIoJO9Xm3/TJuCm/y(String), 张四(String), 330106199001011238(String), 13800138001(String), MALE(String), 1990-01-01(LocalDate), zhangsan@hospital.com(String), PATIENT(String), 1(Integer), 2026-02-14T11:02:02.843602700(LocalDateTime), 2026-02-14T11:02:02.844607600(LocalDateTime)
2026-02-14T11:02:02.848+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.UserMapper.insert           : <==    Updates: 1
2026-02-14T11:02:02.848+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.UserServiceImpl       : 用户注册成功 - ID: 6, 用户名: doctor_zhang
2026-02-14T11:02:02.854+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:02:02.861+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=注册成功, data={user=UserVO(id=6, username=doctor_zhang, realName (truncated)...]
2026-02-14T11:02:02.868+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:03:58.394+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/add", parameters={}
2026-02-14T11:03:58.395+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:03:58.401+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.getDoctorById(java.lang.Long): Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "add"
2026-02-14T11:03:58.402+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-14T11:03:58.402+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "add"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.NumberFormatException: For input string: "add"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]
	at java.base/java.lang.Long.parseLong(Long.java:711) ~[na:na]
	at java.base/java.lang.Long.valueOf(Long.java:1163) ~[na:na]
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:204) ~[spring-core-6.2.15.jar:6.2.15]
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:867) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293) ~[spring-web-6.2.15.jar:6.2.15]
	... 48 common frames omitted

2026-02-14T11:03:58.419+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:03:58.419+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-14T11:03:58.420+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "add"]
2026-02-14T11:03:58.421+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:04:30.009+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:04:30.009+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:04:30.022+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=2, departmentId=13, title=主任医师, specialty=心血管疾病、高血压、冠心病, introduction=从事心血管内科临床工作20 (truncated)...]
2026-02-14T11:04:30.032+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 2, 科室ID: 13
2026-02-14T11:04:30.033+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:04:30.034+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 2(Long)
2026-02-14T11:04:30.039+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:04:30.039+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:04:30.040+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T11:04:30.041+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:04:30.042+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectByUserId      : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time FROM doctor WHERE user_id = ? AND deleted = 0 LIMIT 1
2026-02-14T11:04:30.042+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectByUserId      : ==> Parameters: 2(Long)
2026-02-14T11:04:30.043+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectByUserId      : <==      Total: 0
2026-02-14T11:04:30.046+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T11:04:30.046+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.DoctorMapper.insert         : ==>  Preparing: insert into doctor ( id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time) values (?,?,?,?,?,?, ?,?,?,?,?, ?)
2026-02-14T11:04:30.048+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.DoctorMapper.insert         : ==> Parameters: null, 2(Long), 13(Long), 主任医师(String), 心血管疾病、高血压、冠心病(String), 从事心血管内科临床工作20余年，擅长心血管疾病的诊断与治疗(String), 50.00(BigDecimal), 0(BigDecimal), 0(Integer), 1(Integer), 2026-02-14T11:04:30.046267(LocalDateTime), 2026-02-14T11:04:30.046267(LocalDateTime)
2026-02-14T11:04:30.052+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.DoctorMapper.insert         : <==    Updates: 1
2026-02-14T11:04:30.053+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 医生新增成功 - ID: 1, 用户姓名: 王医生
2026-02-14T11:04:30.053+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:04:30.054+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 1(Long)
2026-02-14T11:04:30.055+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:04:30.055+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:04:30.063+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生新增成功, data={doctor=DoctorVO(id=1, userId=2, realName=王医生, d (truncated)...]
2026-02-14T11:04:30.071+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:05:37.839+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:05:37.840+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:05:37.840+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=3, departmentId=13, title=副主任医师, specialty=呼吸系统疾病、哮喘、慢阻肺, introduction=从事呼吸内科临床工作15 (truncated)...]
2026-02-14T11:05:37.841+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 3, 科室ID: 13
2026-02-14T11:05:37.842+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:05:37.843+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 3(Long)
2026-02-14T11:05:37.844+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:05:37.845+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:05:37.845+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T11:05:37.846+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:05:37.847+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DoctorMapper.selectByUserId      : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time FROM doctor WHERE user_id = ? AND deleted = 0 LIMIT 1
2026-02-14T11:05:37.847+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DoctorMapper.selectByUserId      : ==> Parameters: 3(Long)
2026-02-14T11:05:37.848+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DoctorMapper.selectByUserId      : <==      Total: 0
2026-02-14T11:05:37.848+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T11:05:37.849+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.insert         : ==>  Preparing: insert into doctor ( id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time) values (?,?,?,?,?,?, ?,?,?,?,?, ?)
2026-02-14T11:05:37.849+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.insert         : ==> Parameters: null, 3(Long), 13(Long), 副主任医师(String), 呼吸系统疾病、哮喘、慢阻肺(String), 从事呼吸内科临床工作15年，对呼吸系统疾病有丰富的诊疗经验(String), 40.00(BigDecimal), 0(BigDecimal), 0(Integer), 1(Integer), 2026-02-14T11:05:37.848399900(LocalDateTime), 2026-02-14T11:05:37.849150(LocalDateTime)
2026-02-14T11:05:37.862+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.insert         : <==    Updates: 1
2026-02-14T11:05:37.862+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.DoctorServiceImpl     : 医生新增成功 - ID: 2, 用户姓名: 李医生
2026-02-14T11:05:37.863+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:05:37.863+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 2(Long)
2026-02-14T11:05:37.865+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:05:37.865+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:05:37.865+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生新增成功, data={doctor=DoctorVO(id=2, userId=3, realName=李医生, d (truncated)...]
2026-02-14T11:05:37.866+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:06:18.161+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:06:18.162+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:06:18.163+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=13, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多发病 (truncated)...]
2026-02-14T11:06:18.163+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 6, 科室ID: 13
2026-02-14T11:06:18.164+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:06:18.166+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 6(Long)
2026-02-14T11:06:18.167+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:06:18.168+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:06:18.169+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T11:06:18.170+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:06:18.171+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectByUserId      : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time FROM doctor WHERE user_id = ? AND deleted = 0 LIMIT 1
2026-02-14T11:06:18.172+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectByUserId      : ==> Parameters: 6(Long)
2026-02-14T11:06:18.172+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectByUserId      : <==      Total: 0
2026-02-14T11:06:18.173+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T11:06:18.173+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.insert         : ==>  Preparing: insert into doctor ( id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time) values (?,?,?,?,?,?, ?,?,?,?,?, ?)
2026-02-14T11:06:18.174+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.insert         : ==> Parameters: null, 6(Long), 13(Long), 主治医师(String), 消化系统疾病、胃炎、胃溃疡(String), 擅长消化系统常见病、多发病的诊治(String), 30.00(BigDecimal), 0(BigDecimal), 0(Integer), 1(Integer), 2026-02-14T11:06:18.173659100(LocalDateTime), 2026-02-14T11:06:18.173659100(LocalDateTime)
2026-02-14T11:06:18.181+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.insert         : <==    Updates: 1
2026-02-14T11:06:18.181+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.DoctorServiceImpl     : 医生新增成功 - ID: 3, 用户姓名: 张四
2026-02-14T11:06:18.181+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:06:18.182+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 3(Long)
2026-02-14T11:06:18.184+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:06:18.185+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:06:18.185+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生新增成功, data={doctor=DoctorVO(id=3, userId=6, realName=张四, de (truncated)...]
2026-02-14T11:06:18.186+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:07:09.440+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/1", parameters={}
2026-02-14T11:07:09.440+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:07:09.441+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 1
2026-02-14T11:07:09.442+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:07:09.442+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 1(Long)
2026-02-14T11:07:09.444+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:07:09.444+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.DoctorServiceImpl     : 查询医生成功 - ID: 1, 姓名: 王医生
2026-02-14T11:07:09.444+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:07:09.445+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={doctor=DoctorVO(id=1, userId=2, realName=王医生, dep (truncated)...]
2026-02-14T11:07:09.445+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:07:14.628+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/2", parameters={}
2026-02-14T11:07:14.628+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:07:14.630+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 2
2026-02-14T11:07:14.631+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:07:14.632+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 2(Long)
2026-02-14T11:07:14.634+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:07:14.635+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.DoctorServiceImpl     : 查询医生成功 - ID: 2, 姓名: 李医生
2026-02-14T11:07:14.635+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:07:14.636+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={doctor=DoctorVO(id=2, userId=3, realName=李医生, dep (truncated)...]
2026-02-14T11:07:14.637+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:07:32.871+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/3", parameters={}
2026-02-14T11:07:32.872+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:07:32.872+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 3
2026-02-14T11:07:32.873+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:07:32.874+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 3(Long)
2026-02-14T11:07:32.875+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:07:32.875+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.DoctorServiceImpl     : 查询医生成功 - ID: 3, 姓名: 张四
2026-02-14T11:07:32.876+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:07:32.876+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={doctor=DoctorVO(id=3, userId=6, realName=张四, depa (truncated)...]
2026-02-14T11:07:32.877+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:07:37.760+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/4", parameters={}
2026-02-14T11:07:37.761+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:07:37.761+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 4
2026-02-14T11:07:37.762+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:07:37.763+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 4(Long)
2026-02-14T11:07:37.764+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 0
2026-02-14T11:07:37.764+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.DoctorServiceImpl     : 医生不存在 - ID: 4
2026-02-14T11:07:37.766+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T11:07:37.766+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.common.GlobalExceptionHandler      : 业务异常：医生不存在
2026-02-14T11:07:37.766+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:07:37.766+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=医生不存在, data={})]
2026-02-14T11:07:37.767+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 医生不存在]
2026-02-14T11:07:37.767+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:08:24.460+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=10", parameters={masked}
2026-02-14T11:08:24.460+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:08:24.462+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 10, 关键词: null, 科室ID: null, 状态: null
2026-02-14T11:08:24.584+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0
2026-02-14T11:08:24.584+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 
2026-02-14T11:08:24.585+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:08:24.588+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:08:24.589+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 10(Long)
2026-02-14T11:08:24.590+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.D.selectPageWithDetails          : <==      Total: 3
2026-02-14T11:08:24.590+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.service.impl.DoctorServiceImpl     : 查询到 3 条医生记录,共 1 页
2026-02-14T11:08:24.592+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:08:24.592+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:08:24.597+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:08:38.928+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=2", parameters={masked}
2026-02-14T11:08:38.928+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:08:38.928+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 2, 关键词: null, 科室ID: null, 状态: null
2026-02-14T11:08:38.936+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0
2026-02-14T11:08:38.937+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 
2026-02-14T11:08:38.938+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:08:38.938+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:08:38.939+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 2(Long)
2026-02-14T11:08:38.941+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.D.selectPageWithDetails          : <==      Total: 2
2026-02-14T11:08:38.941+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 查询到 2 条医生记录,共 2 页
2026-02-14T11:08:38.941+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:08:38.941+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:08:38.942+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:08:46.885+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=3", parameters={masked}
2026-02-14T11:08:46.886+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:08:46.887+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 3, 关键词: null, 科室ID: null, 状态: null
2026-02-14T11:08:46.892+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0
2026-02-14T11:08:46.892+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 
2026-02-14T11:08:46.893+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:08:46.893+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:08:46.894+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 3(Long)
2026-02-14T11:08:46.896+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.D.selectPageWithDetails          : <==      Total: 3
2026-02-14T11:08:46.896+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 查询到 3 条医生记录,共 1 页
2026-02-14T11:08:46.897+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:08:46.897+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:08:46.898+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:09:32.134+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=10&keyword=%E5%BC%A0%E5%9B%9B", parameters={masked}
2026-02-14T11:09:32.134+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:09:32.135+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 10, 关键词: 张四, 科室ID: null, 状态: null
2026-02-14T11:09:32.159+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 AND (u.real_name LIKE CONCAT('%', ?, '%') OR d.title LIKE CONCAT('%', ?, '%') OR d.specialty LIKE CONCAT('%', ?, '%'))
2026-02-14T11:09:32.159+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 张四(String), 张四(String), 张四(String)
2026-02-14T11:09:32.160+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:09:32.160+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 AND ( u.real_name LIKE CONCAT('%', ?, '%') OR d.title LIKE CONCAT('%', ?, '%') OR d.specialty LIKE CONCAT('%', ?, '%') ) ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:09:32.161+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 张四(String), 张四(String), 张四(String), 10(Long)
2026-02-14T11:09:32.162+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.D.selectPageWithDetails          : <==      Total: 1
2026-02-14T11:09:32.163+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.DoctorServiceImpl     : 查询到 1 条医生记录,共 1 页
2026-02-14T11:09:32.163+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:09:32.164+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:09:32.165+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:10:03.710+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=10&departmentId=1", parameters={masked}
2026-02-14T11:10:03.711+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:10:03.711+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 10, 关键词: null, 科室ID: 1, 状态: null
2026-02-14T11:10:03.716+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0 AND d.department_id = ?
2026-02-14T11:10:03.716+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 1(Long)
2026-02-14T11:10:03.717+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:10:03.718+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.DoctorServiceImpl     : 查询到 0 条医生记录,共 0 页
2026-02-14T11:10:03.718+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:10:03.718+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[], total=0, size=10, current=1 (truncated)...]
2026-02-14T11:10:03.722+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:10:08.618+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=10&departmentId=13", parameters={masked}
2026-02-14T11:10:08.618+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:10:08.618+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 10, 关键词: null, 科室ID: 13, 状态: null
2026-02-14T11:10:08.622+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0 AND d.department_id = ?
2026-02-14T11:10:08.623+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 13(Long)
2026-02-14T11:10:08.623+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:10:08.625+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 AND d.department_id = ? ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:10:08.625+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 13(Long), 10(Long)
2026-02-14T11:10:08.630+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectPageWithDetails          : <==      Total: 3
2026-02-14T11:10:08.630+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.DoctorServiceImpl     : 查询到 3 条医生记录,共 1 页
2026-02-14T11:10:08.631+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:10:08.631+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:10:08.636+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:10:43.450+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=10&status=1", parameters={masked}
2026-02-14T11:10:43.450+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:10:43.450+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 10, 关键词: null, 科室ID: null, 状态: 1
2026-02-14T11:10:43.456+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0 AND d.status = ?
2026-02-14T11:10:43.456+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 1(Integer)
2026-02-14T11:10:43.457+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:10:43.458+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 AND d.status = ? ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:10:43.458+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 1(Integer), 10(Long)
2026-02-14T11:10:43.460+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.D.selectPageWithDetails          : <==      Total: 3
2026-02-14T11:10:43.460+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.DoctorServiceImpl     : 查询到 3 条医生记录,共 1 页
2026-02-14T11:10:43.460+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:10:43.461+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:10:43.462+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:11:29.503+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/page?pageNum=1&pageSize=10&departmentId=13&status=1", parameters={masked}
2026-02-14T11:11:29.504+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorPage(Integer, Integer, String, Long, Integer)
2026-02-14T11:11:29.504+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.DoctorServiceImpl     : 分页查询医生列表 - 页码: 1, 每页大小: 10, 关键词: null, 科室ID: 13, 状态: 1
2026-02-14T11:11:29.508+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.D.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM doctor d WHERE d.deleted = 0 AND d.department_id = ? AND d.status = ?
2026-02-14T11:11:29.508+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.D.selectPageWithDetails_mpCount  : ==> Parameters: 13(Long), 1(Integer)
2026-02-14T11:11:29.509+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.D.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T11:11:29.518+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.D.selectPageWithDetails          : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.deleted = 0 AND d.department_id = ? AND d.status = ? ORDER BY d.create_time DESC LIMIT ?
2026-02-14T11:11:29.519+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.D.selectPageWithDetails          : ==> Parameters: 13(Long), 1(Integer), 10(Long)
2026-02-14T11:11:29.521+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.D.selectPageWithDetails          : <==      Total: 3
2026-02-14T11:11:29.521+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.DoctorServiceImpl     : 查询到 3 条医生记录,共 1 页
2026-02-14T11:11:29.521+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:11:29.521+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[DoctorVO(id=3, userId=6, realN (truncated)...]
2026-02-14T11:11:29.522+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:12:25.495+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/department/13", parameters={}
2026-02-14T11:12:25.496+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getActiveDoctorsByDepartment(Long)
2026-02-14T11:12:25.496+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.DoctorServiceImpl     : 查询科室的启用医生列表 - 科室ID: 13
2026-02-14T11:12:25.496+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:12:25.497+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T11:12:25.499+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:12:25.499+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] .h.r.m.D.selectActiveDoctorsByDepartment : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.department_id = ? AND d.status = 1 AND d.deleted = 0 ORDER BY d.rating DESC, d.consultation_count DESC
2026-02-14T11:12:25.500+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] .h.r.m.D.selectActiveDoctorsByDepartment : ==> Parameters: 13(Long)
2026-02-14T11:12:25.501+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] .h.r.m.D.selectActiveDoctorsByDepartment : <==      Total: 3
2026-02-14T11:12:25.501+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.DoctorServiceImpl     : 查询到 3 个启用的医生
2026-02-14T11:12:25.502+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:12:25.502+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={doctors=[DoctorVO(id=1, userId=2, realName=王医生, d (truncated)...]
2026-02-14T11:12:25.502+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:13:44.072+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/2", parameters={}
2026-02-14T11:13:44.073+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:13:44.073+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 2
2026-02-14T11:13:44.073+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:13:44.075+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 2(Long)
2026-02-14T11:13:44.076+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:13:44.076+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 查询医生成功 - ID: 2, 姓名: 李医生
2026-02-14T11:13:44.077+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:13:44.077+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={doctor=DoctorVO(id=2, userId=3, realName=李医生, dep (truncated)...]
2026-02-14T11:13:44.078+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:14:00.785+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/1", parameters={}
2026-02-14T11:14:00.785+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:14:00.785+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 1
2026-02-14T11:14:00.786+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:14:00.787+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 1(Long)
2026-02-14T11:14:00.788+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:14:00.788+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 查询医生成功 - ID: 1, 姓名: 王医生
2026-02-14T11:14:00.788+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:14:00.788+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={doctor=DoctorVO(id=1, userId=2, realName=王医生, dep (truncated)...]
2026-02-14T11:14:00.790+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:16:02.617+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/1", parameters={}
2026-02-14T11:16:02.619+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#updateDoctor(Long, DoctorDTO)
2026-02-14T11:16:02.620+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=2, departmentId=5, title=主任医师, specialty=心血管疾病、高血压、冠心病、心律失常, introduction=从事心血管内科临床 (truncated)...]
2026-02-14T11:16:02.625+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.DoctorServiceImpl     : 更新医生信息 - ID: 1, 用户ID: 2
2026-02-14T11:16:02.625+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T11:16:02.626+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T11:16:02.627+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T11:16:02.627+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:16:02.628+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 2(Long)
2026-02-14T11:16:02.629+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:16:02.629+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:16:02.629+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T11:16:02.631+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:16:02.631+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectByUserIdExcludeId        : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time FROM doctor WHERE user_id = ? AND id != ? AND deleted = 0 LIMIT 1
2026-02-14T11:16:02.632+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectByUserIdExcludeId        : ==> Parameters: 2(Long), 1(Long)
2026-02-14T11:16:02.632+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.D.selectByUserIdExcludeId        : <==      Total: 0
2026-02-14T11:16:02.650+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:16:02.651+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.updateById     : ==>  Preparing: UPDATE doctor SET user_id=?, department_id=?, title=?, specialty=?, introduction=?, registration_fee=?, rating=?, consultation_count=?, status=?, create_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:16:02.651+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.updateById     : ==> Parameters: 2(Long), 5(Long), 主任医师(String), 心血管疾病、高血压、冠心病、心律失常(String), 从事心血管内科临床工作20余年，擅长心血管疾病的诊断与治疗，尤其在心律失常方面有深入研究(String), 60.00(BigDecimal), 0.00(BigDecimal), 0(Integer), 1(Integer), 2026-02-14T11:04:30(LocalDateTime), 2026-02-14T11:04:30(LocalDateTime), 1(Long)
2026-02-14T11:16:02.656+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.updateById     : <==    Updates: 1
2026-02-14T11:16:02.656+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.DoctorServiceImpl     : 医生更新成功 - ID: 1, 用户姓名: 王医生
2026-02-14T11:16:02.657+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:16:02.657+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 1(Long)
2026-02-14T11:16:02.658+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 1
2026-02-14T11:16:02.659+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:16:02.659+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生更新成功, data={doctor=DoctorVO(id=1, userId=2, realName=王医生, d (truncated)...]
2026-02-14T11:16:02.660+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:17:33.045+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/1/status?status=0", parameters={masked}
2026-02-14T11:17:33.046+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#updateDoctorStatus(Long, Integer)
2026-02-14T11:17:33.046+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.DoctorServiceImpl     : 更新医生状态 - ID: 1, 状态: 0
2026-02-14T11:17:33.047+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T11:17:33.047+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T11:17:33.048+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T11:17:33.049+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:17:33.049+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.updateById     : ==>  Preparing: UPDATE doctor SET user_id=?, department_id=?, title=?, specialty=?, introduction=?, registration_fee=?, rating=?, consultation_count=?, status=?, create_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:17:33.051+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.updateById     : ==> Parameters: 2(Long), 5(Long), 主任医师(String), 心血管疾病、高血压、冠心病、心律失常(String), 从事心血管内科临床工作20余年，擅长心血管疾病的诊断与治疗，尤其在心律失常方面有深入研究(String), 60.00(BigDecimal), 0.00(BigDecimal), 0(Integer), 0(Integer), 2026-02-14T11:04:30(LocalDateTime), 2026-02-14T11:04:30(LocalDateTime), 1(Long)
2026-02-14T11:17:33.066+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.updateById     : <==    Updates: 1
2026-02-14T11:17:33.067+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.DoctorServiceImpl     : 医生状态更新成功 - ID: 1, 新状态: 0
2026-02-14T11:17:33.067+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:17:33.067+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生状态更新成功, data={})]
2026-02-14T11:17:33.067+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:17:46.882+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/1/status?status=1", parameters={masked}
2026-02-14T11:17:46.883+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#updateDoctorStatus(Long, Integer)
2026-02-14T11:17:46.883+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.DoctorServiceImpl     : 更新医生状态 - ID: 1, 状态: 1
2026-02-14T11:17:46.884+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T11:17:46.884+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T11:17:46.885+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T11:17:46.886+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:17:46.886+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.DoctorMapper.updateById     : ==>  Preparing: UPDATE doctor SET user_id=?, department_id=?, title=?, specialty=?, introduction=?, registration_fee=?, rating=?, consultation_count=?, status=?, create_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:17:46.887+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.DoctorMapper.updateById     : ==> Parameters: 2(Long), 5(Long), 主任医师(String), 心血管疾病、高血压、冠心病、心律失常(String), 从事心血管内科临床工作20余年，擅长心血管疾病的诊断与治疗，尤其在心律失常方面有深入研究(String), 60.00(BigDecimal), 0.00(BigDecimal), 0(Integer), 1(Integer), 2026-02-14T11:04:30(LocalDateTime), 2026-02-14T11:04:30(LocalDateTime), 1(Long)
2026-02-14T11:17:46.900+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.DoctorMapper.updateById     : <==    Updates: 1
2026-02-14T11:17:46.900+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.DoctorServiceImpl     : 医生状态更新成功 - ID: 1, 新状态: 1
2026-02-14T11:17:46.900+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:17:46.901+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生状态更新成功, data={})]
2026-02-14T11:17:46.901+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:19:16.496+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/delete/1", parameters={}
2026-02-14T11:19:16.496+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#deleteDoctor(Long)
2026-02-14T11:19:16.497+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 删除医生 - ID: 1
2026-02-14T11:19:16.497+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T11:19:16.498+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T11:19:16.499+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T11:19:16.507+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:19:16.507+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.deleteById     : ==>  Preparing: UPDATE doctor SET update_time=?, deleted=1 WHERE id=? AND deleted=0
2026-02-14T11:19:16.508+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.deleteById     : ==> Parameters: 2026-02-14T11:19:16.507789(LocalDateTime), 1(Long)
2026-02-14T11:19:16.521+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.deleteById     : <==    Updates: 1
2026-02-14T11:19:16.521+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 医生删除成功 - ID: 1
2026-02-14T11:19:16.521+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:19:16.521+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生删除成功, data={})]
2026-02-14T11:19:16.522+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:19:19.663+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/doctor/1", parameters={}
2026-02-14T11:19:19.663+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#getDoctorById(Long)
2026-02-14T11:19:19.664+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.DoctorServiceImpl     : 查询医生详情 - ID: 1
2026-02-14T11:19:19.665+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.DoctorMapper.selectDetailById    : ==>  Preparing: SELECT d.id, d.user_id, u.real_name, d.department_id, dept.name as department_name, d.title, d.specialty, d.introduction, d.registration_fee, d.rating, d.consultation_count, d.status, d.create_time, d.update_time FROM doctor d LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON d.department_id = dept.id AND dept.deleted = 0 WHERE d.id = ? AND d.deleted = 0 LIMIT 1
2026-02-14T11:19:19.665+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.DoctorMapper.selectDetailById    : ==> Parameters: 1(Long)
2026-02-14T11:19:19.666+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.DoctorMapper.selectDetailById    : <==      Total: 0
2026-02-14T11:19:19.666+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.DoctorServiceImpl     : 医生不存在 - ID: 1
2026-02-14T11:19:19.667+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T11:19:19.667+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.common.GlobalExceptionHandler      : 业务异常：医生不存在
2026-02-14T11:19:19.668+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:19:19.668+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=医生不存在, data={})]
2026-02-14T11:19:19.669+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 医生不存在]
2026-02-14T11:19:19.669+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:21:06.016+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:21:06.016+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:21:06.017+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=null, departmentId=13, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、 (truncated)...]
2026-02-14T11:21:06.022+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T11:21:06.022+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'userId': rejected value [null]; codes [NotNull.doctorDTO.userId,NotNull.userId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.userId,userId]; arguments []; default message [userId]]; default message [用户ID不能为空]] 
2026-02-14T11:21:06.023+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:21:06.023+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=用户ID不能为空, data={})]
2026-02-14T11:21:06.023+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'userId': rejected value [null]; codes [NotNull.doctorDTO.userId,NotNull.userId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.userId,userId]; arguments []; default message [userId]]; default message [用户ID不能为空]] ]
2026-02-14T11:21:06.023+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:21:13.158+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:21:13.159+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:21:13.159+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=null, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多 (truncated)...]
2026-02-14T11:21:13.160+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T11:21:13.160+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'departmentId': rejected value [null]; codes [NotNull.doctorDTO.departmentId,NotNull.departmentId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.departmentId,departmentId]; arguments []; default message [departmentId]]; default message [科室ID不能为空]] 
2026-02-14T11:21:13.161+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:21:13.161+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=科室ID不能为空, data={})]
2026-02-14T11:21:13.162+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'departmentId': rejected value [null]; codes [NotNull.doctorDTO.departmentId,NotNull.departmentId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.departmentId,departmentId]; arguments []; default message [departmentId]]; default message [科室ID不能为空]] ]
2026-02-14T11:21:13.162+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:22:02.231+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:22:02.231+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:22:02.232+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=13, title=, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多发病的诊治, (truncated)...]
2026-02-14T11:22:02.232+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T11:22:02.232+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'title': rejected value []; codes [NotBlank.doctorDTO.title,NotBlank.title,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.title,title]; arguments []; default message [title]]; default message [职称不能为空]] 
2026-02-14T11:22:02.234+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:22:02.234+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=职称不能为空, data={})]
2026-02-14T11:22:02.235+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'title': rejected value []; codes [NotBlank.doctorDTO.title,NotBlank.title,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.title,title]; arguments []; default message [title]]; default message [职称不能为空]] ]
2026-02-14T11:22:02.235+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:22:10.692+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:22:10.693+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:22:10.693+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=13, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多发病 (truncated)...]
2026-02-14T11:22:10.694+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 6, 科室ID: 13
2026-02-14T11:22:10.694+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:22:10.695+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 6(Long)
2026-02-14T11:22:10.696+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:22:10.696+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:22:10.696+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T11:22:10.698+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:22:10.699+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DoctorMapper.selectByUserId      : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time FROM doctor WHERE user_id = ? AND deleted = 0 LIMIT 1
2026-02-14T11:22:10.699+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DoctorMapper.selectByUserId      : ==> Parameters: 6(Long)
2026-02-14T11:22:10.700+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DoctorMapper.selectByUserId      : <==      Total: 1
2026-02-14T11:22:10.700+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.DoctorServiceImpl     : 该用户已绑定医生信息 - 用户ID: 6, 医生ID: 3
2026-02-14T11:22:10.700+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T11:22:10.700+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.common.GlobalExceptionHandler      : 业务异常：该用户已绑定医生信息
2026-02-14T11:22:10.700+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:22:10.700+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=该用户已绑定医生信息, data={})]
2026-02-14T11:22:10.701+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 该用户已绑定医生信息]
2026-02-14T11:22:10.701+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:22:21.505+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:22:21.505+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:22:21.507+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=13, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多发病 (truncated)...]
2026-02-14T11:22:21.508+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T11:22:21.508+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'registrationFee': rejected value [0]; codes [DecimalMin.doctorDTO.registrationFee,DecimalMin.registrationFee,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.registrationFee,registrationFee]; arguments []; default message [registrationFee],true,0.01]; default message [挂号费必须大于0]] 
2026-02-14T11:22:21.508+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:22:21.508+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=挂号费必须大于0, data={})]
2026-02-14T11:22:21.509+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.DoctorController.addDoctor(com.hospital.registration.dto.DoctorDTO): [Field error in object 'doctorDTO' on field 'registrationFee': rejected value [0]; codes [DecimalMin.doctorDTO.registrationFee,DecimalMin.registrationFee,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [doctorDTO.registrationFee,registrationFee]; arguments []; default message [registrationFee],true,0.01]; default message [挂号费必须大于0]] ]
2026-02-14T11:22:21.509+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:22:28.481+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:22:28.481+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:22:28.482+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=13, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多发病 (truncated)...]
2026-02-14T11:22:28.482+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 6, 科室ID: 13
2026-02-14T11:22:28.483+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:22:28.484+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 6(Long)
2026-02-14T11:22:28.486+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:22:28.486+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:22:28.487+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T11:22:28.488+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:22:28.488+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectByUserId      : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction, registration_fee,rating,consultation_count,status,create_time, update_time FROM doctor WHERE user_id = ? AND deleted = 0 LIMIT 1
2026-02-14T11:22:28.488+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectByUserId      : ==> Parameters: 6(Long)
2026-02-14T11:22:28.489+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.DoctorMapper.selectByUserId      : <==      Total: 1
2026-02-14T11:22:28.490+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.DoctorServiceImpl     : 该用户已绑定医生信息 - 用户ID: 6, 医生ID: 3
2026-02-14T11:22:28.490+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T11:22:28.490+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.common.GlobalExceptionHandler      : 业务异常：该用户已绑定医生信息
2026-02-14T11:22:28.490+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:22:28.490+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=该用户已绑定医生信息, data={})]
2026-02-14T11:22:28.491+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 该用户已绑定医生信息]
2026-02-14T11:22:28.491+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:22:41.724+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:22:41.724+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:22:41.725+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=999, departmentId=13, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多 (truncated)...]
2026-02-14T11:22:41.726+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 999, 科室ID: 13
2026-02-14T11:22:41.726+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:22:41.726+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 999(Long)
2026-02-14T11:22:41.727+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.UserMapper.selectById       : <==      Total: 0
2026-02-14T11:22:41.727+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.DoctorServiceImpl     : 用户不存在 - 用户ID: 999
2026-02-14T11:22:41.728+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T11:22:41.728+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.common.GlobalExceptionHandler      : 业务异常：用户不存在
2026-02-14T11:22:41.728+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:22:41.728+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=用户不存在, data={})]
2026-02-14T11:22:41.729+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 用户不存在]
2026-02-14T11:22:41.729+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:22:49.206+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/add", parameters={}
2026-02-14T11:22:49.207+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#addDoctor(DoctorDTO)
2026-02-14T11:22:49.207+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [DoctorDTO(userId=6, departmentId=111, title=主治医师, specialty=消化系统疾病、胃炎、胃溃疡, introduction=擅长消化系统常见病、多发 (truncated)...]
2026-02-14T11:22:49.208+08:00  INFO 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.DoctorServiceImpl     : 新增医生 - 用户ID: 6, 科室ID: 111
2026-02-14T11:22:49.208+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.mapper.UserMapper.selectById       : ==>  Preparing: SELECT id,username,password,real_name,id_card,phone,gender,birth_date,email,role,status,create_time,update_time,deleted FROM user WHERE id=? AND deleted=0
2026-02-14T11:22:49.208+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.mapper.UserMapper.selectById       : ==> Parameters: 6(Long)
2026-02-14T11:22:49.210+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.mapper.UserMapper.selectById       : <==      Total: 1
2026-02-14T11:22:49.210+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:22:49.210+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 111(Long)
2026-02-14T11:22:49.211+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 0
2026-02-14T11:22:49.211+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.DoctorServiceImpl     : 科室不存在 - 科室ID: 111
2026-02-14T11:22:49.211+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T11:22:49.211+08:00 ERROR 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.common.GlobalExceptionHandler      : 业务异常：科室不存在
2026-02-14T11:22:49.212+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:22:49.212+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=科室不存在, data={})]
2026-02-14T11:22:49.212+08:00  WARN 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 科室不存在]
2026-02-14T11:22:49.213+08:00 DEBUG 30944 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:25:53.040+08:00  INFO 30944 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-14T11:25:53.299+08:00  INFO 30944 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-14T11:25:53.305+08:00  INFO 30944 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-14T11:25:53.306+08:00  INFO 30944 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-14T11:29:51.396+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 9792 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T11:29:51.398+08:00 DEBUG 9792 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T11:29:51.399+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T11:29:51.453+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T11:29:51.454+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T11:29:52.535+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T11:29:52.551+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T11:29:52.551+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T11:29:52.592+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T11:29:52.593+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1138 ms
2026-02-14T11:29:52.880+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:52.921+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:52.943+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:52.975+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:53.009+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:53.033+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:53.054+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.ScheduleMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:53.086+08:00  WARN 9792 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T11:29:53.463+08:00 DEBUG 9792 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 20 mappings in 'requestMappingHandlerMapping'
2026-02-14T11:29:53.551+08:00 DEBUG 9792 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-14T11:29:53.574+08:00 DEBUG 9792 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-14T11:29:53.629+08:00 DEBUG 9792 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-14T11:29:53.739+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-14T11:29:53.790+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-14T11:29:53.803+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 2.919 seconds (process running for 3.493)
2026-02-14T11:29:53.807+08:00  INFO 9792 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-14T11:30:07.270+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-14T11:30:07.270+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-14T11:30:07.271+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-14T11:30:07.271+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-14T11:30:07.271+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-14T11:30:07.272+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@b086467
2026-02-14T11:30:07.272+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b4be9b2
2026-02-14T11:30:07.272+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-14T11:30:07.272+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-14T11:30:07.282+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/1/status?status=0", parameters={masked}
2026-02-14T11:30:07.294+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#updateDoctorStatus(Long, Integer)
2026-02-14T11:30:07.312+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.DoctorServiceImpl     : 更新医生状态 - ID: 1, 状态: 0
2026-02-14T11:30:07.333+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-14T11:30:07.495+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4fc76b3f
2026-02-14T11:30:07.497+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-14T11:30:07.504+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T11:30:07.536+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T11:30:07.567+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T11:30:07.607+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:30:07.609+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.updateById     : ==>  Preparing: UPDATE doctor SET rating=?, consultation_count=?, status=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:30:07.610+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.updateById     : ==> Parameters: 0(BigDecimal), 0(Integer), 0(Integer), 2026-02-14T11:30:07.607160400(LocalDateTime), 1(Long)
2026-02-14T11:30:07.618+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.mapper.DoctorMapper.updateById     : <==    Updates: 1
2026-02-14T11:30:07.618+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.DoctorServiceImpl     : 医生状态更新成功 - ID: 1, 新状态: 0
2026-02-14T11:30:07.664+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:30:07.666+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生状态更新成功, data={})]
2026-02-14T11:30:07.685+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:30:26.380+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/department/6/status?status=0", parameters={masked}
2026-02-14T11:30:26.381+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DepartmentController#updateDepartmentStatus(Long, Integer)
2026-02-14T11:30:26.381+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.s.impl.DepartmentServiceImpl       : 更新科室状态 - ID: 6, 状态: 0
2026-02-14T11:30:26.382+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:30:26.383+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 6(Long)
2026-02-14T11:30:26.385+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:30:26.387+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:30:26.387+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.updateById      : ==>  Preparing: UPDATE department SET status=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:30:26.388+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.updateById      : ==> Parameters: 0(Integer), 2026-02-14T11:30:26.387364700(LocalDateTime), 6(Long)
2026-02-14T11:30:26.401+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.updateById      : <==    Updates: 1
2026-02-14T11:30:26.401+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.s.impl.DepartmentServiceImpl       : 科室状态更新成功 - ID: 6, 新状态: 0
2026-02-14T11:30:26.402+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:30:26.402+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=科室状态更新成功, data={})]
2026-02-14T11:30:26.403+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:30:50.083+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/department/6/status?status=1", parameters={masked}
2026-02-14T11:30:50.084+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DepartmentController#updateDepartmentStatus(Long, Integer)
2026-02-14T11:30:50.085+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.DepartmentServiceImpl       : 更新科室状态 - ID: 6, 状态: 1
2026-02-14T11:30:50.085+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T11:30:50.085+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 6(Long)
2026-02-14T11:30:50.087+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T11:30:50.088+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:30:50.088+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.updateById      : ==>  Preparing: UPDATE department SET status=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:30:50.088+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.updateById      : ==> Parameters: 1(Integer), 2026-02-14T11:30:50.088768900(LocalDateTime), 6(Long)
2026-02-14T11:30:50.092+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.updateById      : <==    Updates: 1
2026-02-14T11:30:50.092+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.s.impl.DepartmentServiceImpl       : 科室状态更新成功 - ID: 6, 新状态: 1
2026-02-14T11:30:50.093+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:30:50.093+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=科室状态更新成功, data={})]
2026-02-14T11:30:50.094+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:30:52.889+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/doctor/1/status?status=1", parameters={masked}
2026-02-14T11:30:52.890+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.DoctorController#updateDoctorStatus(Long, Integer)
2026-02-14T11:30:52.890+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.DoctorServiceImpl     : 更新医生状态 - ID: 1, 状态: 1
2026-02-14T11:30:52.891+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T11:30:52.892+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T11:30:52.893+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T11:30:52.895+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T11:30:52.895+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.updateById     : ==>  Preparing: UPDATE doctor SET rating=?, consultation_count=?, status=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T11:30:52.896+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.updateById     : ==> Parameters: 0(BigDecimal), 0(Integer), 1(Integer), 2026-02-14T11:30:52.895188800(LocalDateTime), 1(Long)
2026-02-14T11:30:52.913+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.updateById     : <==    Updates: 1
2026-02-14T11:30:52.913+08:00  INFO 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.DoctorServiceImpl     : 医生状态更新成功 - ID: 1, 新状态: 1
2026-02-14T11:30:52.913+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T11:30:52.914+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=医生状态更新成功, data={})]
2026-02-14T11:30:52.915+08:00 DEBUG 9792 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T11:36:36.824+08:00  INFO 9792 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-14T11:36:37.102+08:00  INFO 9792 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-14T11:36:37.108+08:00  INFO 9792 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-14T11:36:37.114+08:00  INFO 9792 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-14T13:22:39.168+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 39604 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T13:22:39.171+08:00 DEBUG 39604 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T13:22:39.172+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T13:22:39.221+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T13:22:39.222+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T13:22:40.565+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T13:22:40.578+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T13:22:40.579+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T13:22:40.619+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T13:22:40.620+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1398 ms
2026-02-14T13:22:40.919+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:22:40.978+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:22:41.022+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:22:41.055+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:22:41.089+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:22:41.113+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:22:41.142+08:00  WARN 39604 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\DepartmentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
2026-02-14T13:22:41.145+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-14T13:22:41.160+08:00  INFO 39604 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-14T13:22:41.183+08:00 ERROR 39604 --- [smart-hospital-registration] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\DepartmentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.hospital.registration.HospitalRegistrationApplication.main(HospitalRegistrationApplication.java:13) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 26 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1556) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1450) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1541) ~[spring-beans-6.2.15.jar:6.2.15]
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.15.jar:6.2.15]
	... 64 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:670) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:543) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:701) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:213) ~[mybatis-plus-spring-boot-autoconfigure-3.5.9.jar:3.5.9]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.15.jar:6.2.15]
	... 67 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 162; columnNumber: 31; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:262) ~[mybatis-3.5.16.jar:3.5.16]
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127) ~[mybatis-3.5.16.jar:3.5.16]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.<init>(MybatisXMLMapperBuilder.java:87) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:667) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	... 75 common frames omitted
Caused by: org.xml.sax.SAXParseException; lineNumber: 162; columnNumber: 31; 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2589) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2679) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342) ~[na:na]
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:260) ~[mybatis-3.5.16.jar:3.5.16]
	... 78 common frames omitted

2026-02-14T13:30:18.681+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 40844 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T13:30:18.683+08:00 DEBUG 40844 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T13:30:18.684+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T13:30:18.730+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T13:30:18.730+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T13:30:19.722+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T13:30:19.735+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T13:30:19.736+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T13:30:19.775+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T13:30:19.775+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1044 ms
2026-02-14T13:30:20.048+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:30:20.086+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:30:20.116+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:30:20.136+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:30:20.162+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:30:20.185+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:30:20.222+08:00  WARN 40844 --- [smart-hospital-registration] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\DepartmentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
2026-02-14T13:30:20.225+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-02-14T13:30:20.241+08:00  INFO 40844 --- [smart-hospital-registration] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-14T13:30:20.260+08:00 ERROR 40844 --- [smart-hospital-registration] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentController' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\controller\DepartmentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.hospital.registration.HospitalRegistrationApplication.main(HospitalRegistrationApplication.java:13) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentServiceImpl' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\service\impl\DepartmentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 26 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'departmentMapper' defined in file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\com\hospital\registration\mapper\DepartmentMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1556) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1450) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1541) ~[spring-beans-6.2.15.jar:6.2.15]
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.15.jar:6.2.15]
	... 64 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [D:\workspace\code\github.com\username\smart-hospital-registration\target\classes\mapper\ScheduleMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:670) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:543) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:701) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:213) ~[mybatis-plus-spring-boot-autoconfigure-3.5.9.jar:3.5.9]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.15.jar:6.2.15]
	... 67 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 162; columnNumber: 35; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:262) ~[mybatis-3.5.16.jar:3.5.16]
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127) ~[mybatis-3.5.16.jar:3.5.16]
	at com.baomidou.mybatisplus.core.MybatisXMLMapperBuilder.<init>(MybatisXMLMapperBuilder.java:87) ~[mybatis-plus-core-3.5.9.jar:3.5.9]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:667) ~[mybatis-plus-spring-3.5.9.jar:3.5.9]
	... 75 common frames omitted
Caused by: org.xml.sax.SAXParseException; lineNumber: 162; columnNumber: 35; 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2589) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2679) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342) ~[na:na]
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:260) ~[mybatis-3.5.16.jar:3.5.16]
	... 78 common frames omitted

2026-02-14T13:31:02.810+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 40756 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T13:31:02.812+08:00 DEBUG 40756 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T13:31:02.813+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T13:31:02.867+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T13:31:02.868+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T13:31:03.891+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T13:31:03.903+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T13:31:03.904+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T13:31:03.943+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T13:31:03.944+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1076 ms
2026-02-14T13:31:04.224+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.266+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.295+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.316+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.342+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.365+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.433+08:00  WARN 40756 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:31:04.793+08:00 DEBUG 40756 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 29 mappings in 'requestMappingHandlerMapping'
2026-02-14T13:31:04.854+08:00 DEBUG 40756 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-14T13:31:04.871+08:00 DEBUG 40756 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-14T13:31:04.913+08:00 DEBUG 40756 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-14T13:31:04.994+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-14T13:31:05.033+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-14T13:31:05.042+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 2.735 seconds (process running for 3.303)
2026-02-14T13:31:05.045+08:00  INFO 40756 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-14T13:39:00.810+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-14T13:39:00.810+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-14T13:39:00.811+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-14T13:39:00.811+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-14T13:39:00.811+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-14T13:39:00.812+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@62d79e31
2026-02-14T13:39:00.812+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@475ba8cb
2026-02-14T13:39:00.812+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-14T13:39:00.812+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-14T13:39:00.820+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T13:39:00.831+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T13:39:00.910+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-01-20, timeSlot=MORNING, totalNumber=20)]
2026-02-14T13:39:00.971+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T13:39:00.971+08:00 ERROR 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'scheduleDate': rejected value [2026-01-20]; codes [Future.scheduleDTO.scheduleDate,Future.scheduleDate,Future.java.time.LocalDate,Future]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.scheduleDate,scheduleDate]; arguments []; default message [scheduleDate]]; default message [排班日期必须是未来日期]] 
2026-02-14T13:39:00.994+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:39:00.995+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=排班日期必须是未来日期, data={})]
2026-02-14T13:39:01.009+08:00  WARN 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'scheduleDate': rejected value [2026-01-20]; codes [Future.scheduleDTO.scheduleDate,Future.scheduleDate,Future.java.time.LocalDate,Future]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.scheduleDate,scheduleDate]; arguments []; default message [scheduleDate]]; default message [排班日期必须是未来日期]] ]
2026-02-14T13:39:01.010+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:39:13.886+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T13:39:13.888+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T13:39:13.889+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-20, timeSlot=MORNING, totalNumber=20)]
2026-02-14T13:39:13.890+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 5, 日期: 2026-02-20, 时间段: MORNING
2026-02-14T13:39:13.911+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-14T13:39:14.087+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@717f6695
2026-02-14T13:39:14.090+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-14T13:39:14.098+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:39:14.132+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T13:39:14.159+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:39:14.167+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:39:14.167+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T13:39:14.169+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:39:14.170+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:39:14.172+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 1(Long), 2026-02-20(LocalDate), MORNING(String)
2026-02-14T13:39:14.177+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:39:14.198+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:39:14.200+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:39:14.201+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 1(Long), 5(Long), 2026-02-20(LocalDate), MORNING(String), 20(Integer), 20(Integer), 1(Integer), 2026-02-14T13:39:14.198177500(LocalDateTime), 2026-02-14T13:39:14.200180200(LocalDateTime)
2026-02-14T13:39:14.216+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:39:14.219+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 1, 医生ID: 1
2026-02-14T13:39:14.219+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:39:14.220+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 1(Long)
2026-02-14T13:39:14.223+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:39:14.225+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:39:14.232+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班新增成功, data={schedule=ScheduleVO(id=1, doctorId=1, doctorNam (truncated)...]
2026-02-14T13:39:14.237+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:40:55.021+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T13:40:55.021+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T13:40:55.022+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-20, timeSlot=AFTERNOON, totalNumber=15)]
2026-02-14T13:40:55.023+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 5, 日期: 2026-02-20, 时间段: AFTERNOON
2026-02-14T13:40:55.024+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:40:55.025+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T13:40:55.026+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:40:55.028+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:40:55.028+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T13:40:55.029+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:40:55.030+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:40:55.030+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 1(Long), 2026-02-20(LocalDate), AFTERNOON(String)
2026-02-14T13:40:55.031+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:40:55.032+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:40:55.033+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:40:55.034+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 1(Long), 5(Long), 2026-02-20(LocalDate), AFTERNOON(String), 15(Integer), 15(Integer), 1(Integer), 2026-02-14T13:40:55.032641700(LocalDateTime), 2026-02-14T13:40:55.033643300(LocalDateTime)
2026-02-14T13:40:55.038+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:40:55.039+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 2, 医生ID: 1
2026-02-14T13:40:55.040+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:40:55.041+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 2(Long)
2026-02-14T13:40:55.042+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:40:55.043+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:40:55.043+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班新增成功, data={schedule=ScheduleVO(id=2, doctorId=1, doctorNam (truncated)...]
2026-02-14T13:40:55.044+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:41:03.384+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T13:41:03.384+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T13:41:03.385+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-20, timeSlot=EVENING, totalNumber=10)]
2026-02-14T13:41:03.386+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 5, 日期: 2026-02-20, 时间段: EVENING
2026-02-14T13:41:03.387+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:41:03.387+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T13:41:03.389+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:41:03.390+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:41:03.390+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T13:41:03.391+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:41:03.392+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:41:03.392+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 1(Long), 2026-02-20(LocalDate), EVENING(String)
2026-02-14T13:41:03.393+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:41:03.393+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:41:03.395+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:41:03.396+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 1(Long), 5(Long), 2026-02-20(LocalDate), EVENING(String), 10(Integer), 10(Integer), 1(Integer), 2026-02-14T13:41:03.393926700(LocalDateTime), 2026-02-14T13:41:03.393926700(LocalDateTime)
2026-02-14T13:41:03.411+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:41:03.411+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 3, 医生ID: 1
2026-02-14T13:41:03.411+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:41:03.412+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 3(Long)
2026-02-14T13:41:03.413+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:41:03.414+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:41:03.414+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班新增成功, data={schedule=ScheduleVO(id=3, doctorId=1, doctorNam (truncated)...]
2026-02-14T13:41:03.415+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:41:51.612+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T13:41:51.613+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T13:41:51.614+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=10)]
2026-02-14T13:41:51.614+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 5, 日期: 2026-02-21, 时间段: MORNING
2026-02-14T13:41:51.616+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:41:51.617+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T13:41:51.618+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:41:51.619+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:41:51.619+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T13:41:51.621+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:41:51.622+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:41:51.623+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 1(Long), 2026-02-21(LocalDate), MORNING(String)
2026-02-14T13:41:51.624+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:41:51.624+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:41:51.627+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:41:51.627+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 1(Long), 5(Long), 2026-02-21(LocalDate), MORNING(String), 10(Integer), 10(Integer), 1(Integer), 2026-02-14T13:41:51.625878900(LocalDateTime), 2026-02-14T13:41:51.625878900(LocalDateTime)
2026-02-14T13:41:51.640+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:41:51.640+08:00  INFO 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 4, 医生ID: 1
2026-02-14T13:41:51.640+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:41:51.641+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 4(Long)
2026-02-14T13:41:51.643+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:41:51.645+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:41:51.645+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班新增成功, data={schedule=ScheduleVO(id=4, doctorId=1, doctorNam (truncated)...]
2026-02-14T13:41:51.646+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:43:33.525+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/batch", parameters={}
2026-02-14T13:43:33.526+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#batchAddSchedules(List)
2026-02-14T13:43:33.530+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[ScheduleDTO(doctorId=2, departmentId=13, scheduleDate=2026-01-22, timeSlot=MORNING, totalNumber=20) (truncated)...]
2026-02-14T13:43:33.593+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-14T13:43:33.593+08:00 ERROR 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"
	at org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:106) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:187) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-02-14T13:43:33.599+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:43:33.599+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-14T13:43:33.601+08:00  WARN 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"]
2026-02-14T13:43:33.601+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:45:48.306+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/batch", parameters={}
2026-02-14T13:45:48.307+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#batchAddSchedules(List)
2026-02-14T13:45:48.308+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[ScheduleDTO(doctorId=2, departmentId=13, scheduleDate=2026-01-22, timeSlot=MORNING, totalNumber=20) (truncated)...]
2026-02-14T13:45:48.309+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-14T13:45:48.309+08:00 ERROR 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"
	at org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:106) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:187) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-02-14T13:45:48.311+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:45:48.312+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-14T13:45:48.312+08:00  WARN 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"]
2026-02-14T13:45:48.312+08:00 DEBUG 40756 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:53:00.748+08:00  INFO 40756 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-14T13:53:01.015+08:00  INFO 40756 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-14T13:53:01.021+08:00  INFO 40756 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-14T13:53:01.028+08:00  INFO 40756 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-14T13:53:20.957+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Starting HospitalRegistrationApplication using Java 17.0.17 with PID 38536 (D:\workspace\code\github.com\username\smart-hospital-registration\target\classes started by suzd in D:\workspace\code\github.com\username\smart-hospital-registration)
2026-02-14T13:53:20.959+08:00 DEBUG 38536 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Running with Spring Boot v3.5.9, Spring v6.2.15
2026-02-14T13:53:20.960+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : The following 1 profile is active: "dev"
2026-02-14T13:53:21.009+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-14T13:53:21.009+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-14T13:53:22.022+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2026-02-14T13:53:22.036+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-14T13:53:22.037+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-02-14T13:53:22.076+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring embedded WebApplicationContext
2026-02-14T13:53:22.077+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1068 ms
2026-02-14T13:53:22.347+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DepartmentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.383+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorEvaluationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.414+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.DoctorMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.435+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.MedicalRecordMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.461+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.PaymentMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.484+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.RegistrationMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.526+08:00  WARN 38536 --- [smart-hospital-registration] [restartedMain] c.b.m.core.injector.methods.Insert       : [com.hospital.registration.mapper.UserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2026-02-14T13:53:22.887+08:00 DEBUG 38536 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 29 mappings in 'requestMappingHandlerMapping'
2026-02-14T13:53:22.948+08:00 DEBUG 38536 --- [smart-hospital-registration] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-14T13:53:22.966+08:00 DEBUG 38536 --- [smart-hospital-registration] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-14T13:53:23.006+08:00 DEBUG 38536 --- [smart-hospital-registration] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-14T13:53:23.082+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-14T13:53:23.121+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api/hospital'
2026-02-14T13:53:23.131+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Started HospitalRegistrationApplication in 2.658 seconds (process running for 3.229)
2026-02-14T13:53:23.134+08:00  INFO 38536 --- [smart-hospital-registration] [restartedMain] c.h.r.HospitalRegistrationApplication    : Hospital Registration Application started successfully 项目初始化成功.
2026-02-14T13:55:25.570+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.a.c.c.C.[.[localhost].[/api/hospital]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-14T13:55:25.570+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-14T13:55:25.570+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-14T13:55:25.570+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-14T13:55:25.570+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-14T13:55:25.571+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17c5a13c
2026-02-14T13:55:25.571+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@b09c0dc
2026-02-14T13:55:25.572+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-14T13:55:25.572+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-14T13:55:25.579+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/batch", parameters={}
2026-02-14T13:55:25.591+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#batchAddSchedules(List)
2026-02-14T13:55:25.679+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[ScheduleDTO(doctorId=2, departmentId=13, scheduleDate=2026-01-22, timeSlot=MORNING, totalNumber=20) (truncated)...]
2026-02-14T13:55:25.765+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-14T13:55:25.765+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"
	at org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:106) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:187) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-02-14T13:55:25.789+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:55:25.790+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-14T13:55:25.807+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"]
2026-02-14T13:55:25.807+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T13:57:05.807+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/batch", parameters={}
2026-02-14T13:57:05.807+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#batchAddSchedules(List)
2026-02-14T13:57:05.809+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[ScheduleDTO(doctorId=2, departmentId=13, scheduleDate=2026-02-22, timeSlot=MORNING, totalNumber=20) (truncated)...]
2026-02-14T13:57:05.816+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-14T13:57:05.979+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@153f73d7
2026-02-14T13:57:05.981+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-14T13:57:05.986+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 批量创建排班 - 数量: 3
2026-02-14T13:57:05.986+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 2, 科室ID: 13, 日期: 2026-02-22, 时间段: MORNING
2026-02-14T13:57:06.007+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:57:06.036+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 2(Long)
2026-02-14T13:57:06.069+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:57:06.074+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:57:06.076+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T13:57:06.078+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:57:06.079+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:57:06.080+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 2(Long), 2026-02-22(LocalDate), MORNING(String)
2026-02-14T13:57:06.085+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:57:06.107+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:57:06.110+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:57:06.111+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 2(Long), 13(Long), 2026-02-22(LocalDate), MORNING(String), 20(Integer), 20(Integer), 1(Integer), 2026-02-14T13:57:06.107839900(LocalDateTime), 2026-02-14T13:57:06.109075500(LocalDateTime)
2026-02-14T13:57:06.113+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:57:06.115+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 5, 医生ID: 2
2026-02-14T13:57:06.115+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:57:06.115+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 5(Long)
2026-02-14T13:57:06.119+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:57:06.119+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 2, 科室ID: 13, 日期: 2026-02-22, 时间段: AFTERNOON
2026-02-14T13:57:06.119+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:57:06.120+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 2(Long)
2026-02-14T13:57:06.121+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:57:06.121+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:57:06.121+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T13:57:06.123+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:57:06.123+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:57:06.124+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 2(Long), 2026-02-22(LocalDate), AFTERNOON(String)
2026-02-14T13:57:06.125+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:57:06.126+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:57:06.126+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:57:06.127+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 2(Long), 13(Long), 2026-02-22(LocalDate), AFTERNOON(String), 15(Integer), 15(Integer), 1(Integer), 2026-02-14T13:57:06.126122900(LocalDateTime), 2026-02-14T13:57:06.126122900(LocalDateTime)
2026-02-14T13:57:06.127+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:57:06.127+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 6, 医生ID: 2
2026-02-14T13:57:06.127+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:57:06.129+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 6(Long)
2026-02-14T13:57:06.131+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:57:06.131+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 5, 日期: 2026-02-23, 时间段: MORNING
2026-02-14T13:57:06.131+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T13:57:06.132+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T13:57:06.133+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T13:57:06.134+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T13:57:06.134+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T13:57:06.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T13:57:06.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T13:57:06.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 1(Long), 2026-02-23(LocalDate), MORNING(String)
2026-02-14T13:57:06.136+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 0
2026-02-14T13:57:06.136+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.config.MyMetaObjectHandler         : 开始insert填充...
2026-02-14T13:57:06.138+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : ==>  Preparing: INSERT INTO schedule ( doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-02-14T13:57:06.138+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : ==> Parameters: 1(Long), 5(Long), 2026-02-23(LocalDate), MORNING(String), 20(Integer), 20(Integer), 1(Integer), 2026-02-14T13:57:06.138006700(LocalDateTime), 2026-02-14T13:57:06.138006700(LocalDateTime)
2026-02-14T13:57:06.139+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.ScheduleMapper.insert       : <==    Updates: 1
2026-02-14T13:57:06.140+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 排班新增成功 - ID: 7, 医生ID: 1
2026-02-14T13:57:06.140+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T13:57:06.140+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 7(Long)
2026-02-14T13:57:06.142+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T13:57:06.142+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 批量创建排班完成 - 成功: 3, 失败: 0
2026-02-14T13:57:06.150+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T13:57:06.158+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=批量排班创建完成, data={schedules=[ScheduleVO(id=5, doctorId=2, docto (truncated)...]
2026-02-14T13:57:06.164+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:00:11.110+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/1", parameters={}
2026-02-14T14:00:11.111+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getScheduleById(Long)
2026-02-14T14:00:11.112+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.ScheduleServiceImpl   : 查询排班详情 - ID: 1
2026-02-14T14:00:11.114+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T14:00:11.115+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 1(Long)
2026-02-14T14:00:11.117+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T14:00:11.117+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.ScheduleServiceImpl   : 查询排班成功 - ID: 1, 医生: 王医生
2026-02-14T14:00:11.118+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:00:11.118+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedule=ScheduleVO(id=1, doctorId=1, doctorName= (truncated)...]
2026-02-14T14:00:11.120+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:00:35.943+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10", parameters={masked}
2026-02-14T14:00:35.943+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:00:35.944+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: null, 科室ID: null, 日期: null, 状态: null
2026-02-14T14:00:36.045+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0
2026-02-14T14:00:36.046+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 
2026-02-14T14:00:36.047+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:00:36.050+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectPageWithDetails          : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.deleted = 0 ORDER BY s.schedule_date ASC, s.time_slot ASC LIMIT ?
2026-02-14T14:00:36.050+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectPageWithDetails          : ==> Parameters: 10(Long)
2026-02-14T14:00:36.055+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.m.S.selectPageWithDetails          : <==      Total: 7
2026-02-14T14:00:36.056+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 7 条排班记录,共 1 页
2026-02-14T14:00:36.057+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:00:36.057+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[ScheduleVO(id=2, doctorId=1, d (truncated)...]
2026-02-14T14:00:36.064+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:01:28.898+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10&doctorId=1", parameters={masked}
2026-02-14T14:01:28.899+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:01:28.899+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: 1, 科室ID: null, 日期: null, 状态: null
2026-02-14T14:01:28.911+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0 AND s.doctor_id = ?
2026-02-14T14:01:28.914+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 1(Long)
2026-02-14T14:01:28.916+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:01:28.918+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.S.selectPageWithDetails          : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.deleted = 0 AND s.doctor_id = ? ORDER BY s.schedule_date ASC, s.time_slot ASC LIMIT ?
2026-02-14T14:01:28.918+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.S.selectPageWithDetails          : ==> Parameters: 1(Long), 10(Long)
2026-02-14T14:01:28.924+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.S.selectPageWithDetails          : <==      Total: 5
2026-02-14T14:01:28.925+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 5 条排班记录,共 1 页
2026-02-14T14:01:28.925+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:01:28.926+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[ScheduleVO(id=2, doctorId=1, d (truncated)...]
2026-02-14T14:01:28.931+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:02:06.398+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10&departmentId=1", parameters={masked}
2026-02-14T14:02:06.399+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:02:06.399+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: null, 科室ID: 1, 日期: null, 状态: null
2026-02-14T14:02:06.406+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0 AND s.department_id = ?
2026-02-14T14:02:06.407+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 1(Long)
2026-02-14T14:02:06.408+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:02:06.408+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 0 条排班记录,共 0 页
2026-02-14T14:02:06.409+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:02:06.409+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[], total=0, size=10, current=1 (truncated)...]
2026-02-14T14:02:06.414+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:02:11.878+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10&departmentId=5", parameters={masked}
2026-02-14T14:02:11.878+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:02:11.879+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: null, 科室ID: 5, 日期: null, 状态: null
2026-02-14T14:02:11.884+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0 AND s.department_id = ?
2026-02-14T14:02:11.884+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 5(Long)
2026-02-14T14:02:11.885+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:02:11.885+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectPageWithDetails          : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.deleted = 0 AND s.department_id = ? ORDER BY s.schedule_date ASC, s.time_slot ASC LIMIT ?
2026-02-14T14:02:11.886+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectPageWithDetails          : ==> Parameters: 5(Long), 10(Long)
2026-02-14T14:02:11.888+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.m.S.selectPageWithDetails          : <==      Total: 5
2026-02-14T14:02:11.889+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 5 条排班记录,共 1 页
2026-02-14T14:02:11.889+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:02:11.889+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[ScheduleVO(id=2, doctorId=1, d (truncated)...]
2026-02-14T14:02:11.891+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:02:33.226+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10&scheduleDate=2026-02-20", parameters={masked}
2026-02-14T14:02:33.227+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:02:33.229+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: null, 科室ID: null, 日期: 2026-02-20, 状态: null
2026-02-14T14:02:33.233+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0 AND s.schedule_date = ?
2026-02-14T14:02:33.234+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 2026-02-20(LocalDate)
2026-02-14T14:02:33.235+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:02:33.236+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectPageWithDetails          : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.deleted = 0 AND s.schedule_date = ? ORDER BY s.schedule_date ASC, s.time_slot ASC LIMIT ?
2026-02-14T14:02:33.237+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectPageWithDetails          : ==> Parameters: 2026-02-20(LocalDate), 10(Long)
2026-02-14T14:02:33.238+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.m.S.selectPageWithDetails          : <==      Total: 3
2026-02-14T14:02:33.238+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 3 条排班记录,共 1 页
2026-02-14T14:02:33.239+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:02:33.239+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[ScheduleVO(id=2, doctorId=1, d (truncated)...]
2026-02-14T14:02:33.240+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:03:08.784+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10&status=1", parameters={masked}
2026-02-14T14:03:08.784+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:03:08.786+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: null, 科室ID: null, 日期: null, 状态: 1
2026-02-14T14:03:08.791+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0 AND s.status = ?
2026-02-14T14:03:08.791+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 1(Integer)
2026-02-14T14:03:08.792+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:03:08.792+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectPageWithDetails          : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.deleted = 0 AND s.status = ? ORDER BY s.schedule_date ASC, s.time_slot ASC LIMIT ?
2026-02-14T14:03:08.793+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectPageWithDetails          : ==> Parameters: 1(Integer), 10(Long)
2026-02-14T14:03:08.795+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectPageWithDetails          : <==      Total: 7
2026-02-14T14:03:08.795+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 7 条排班记录,共 1 页
2026-02-14T14:03:08.795+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:03:08.796+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[ScheduleVO(id=2, doctorId=1, d (truncated)...]
2026-02-14T14:03:08.797+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:03:53.026+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/page?pageNum=1&pageSize=10&doctorId=1&scheduleDate=2026-02-20", parameters={masked}
2026-02-14T14:03:53.026+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getSchedulePage(Integer, Integer, Long, Long, LocalDate, Integer)
2026-02-14T14:03:53.027+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 分页查询排班列表 - 页码: 1, 每页大小: 10, 医生ID: 1, 科室ID: null, 日期: 2026-02-20, 状态: null
2026-02-14T14:03:53.031+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectPageWithDetails_mpCount  : ==>  Preparing: SELECT COUNT(*) AS total FROM schedule s WHERE s.deleted = 0 AND s.doctor_id = ? AND s.schedule_date = ?
2026-02-14T14:03:53.032+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectPageWithDetails_mpCount  : ==> Parameters: 1(Long), 2026-02-20(LocalDate)
2026-02-14T14:03:53.032+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectPageWithDetails_mpCount  : <==      Total: 1
2026-02-14T14:03:53.032+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectPageWithDetails          : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.deleted = 0 AND s.doctor_id = ? AND s.schedule_date = ? ORDER BY s.schedule_date ASC, s.time_slot ASC LIMIT ?
2026-02-14T14:03:53.034+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectPageWithDetails          : ==> Parameters: 1(Long), 2026-02-20(LocalDate), 10(Long)
2026-02-14T14:03:53.035+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.m.S.selectPageWithDetails          : <==      Total: 3
2026-02-14T14:03:53.035+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 3 条排班记录,共 1 页
2026-02-14T14:03:53.035+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:03:53.036+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={page=Page{records=[ScheduleVO(id=2, doctorId=1, d (truncated)...]
2026-02-14T14:03:53.037+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:04:43.232+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/doctor/1/available?startDate=2026-02-20&endDate=2026-02-27", parameters={masked}
2026-02-14T14:04:43.233+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getAvailableSchedulesByDoctor(Long, LocalDate, LocalDate)
2026-02-14T14:04:43.234+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 查询医生的可预约排班列表 - 医生ID: 1, 开始日期: 2026-02-20, 结束日期: 2026-02-27
2026-02-14T14:04:43.235+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T14:04:43.235+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T14:04:43.237+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T14:04:43.237+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectAvailableByDoctor        : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.doctor_id = ? AND s.schedule_date BETWEEN ? AND ? AND s.status = 1 AND s.remaining_number > 0 AND s.deleted = 0 ORDER BY s.schedule_date ASC, s.time_slot ASC
2026-02-14T14:04:43.239+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectAvailableByDoctor        : ==> Parameters: 1(Long), 2026-02-20(LocalDate), 2026-02-27(LocalDate)
2026-02-14T14:04:43.240+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.S.selectAvailableByDoctor        : <==      Total: 5
2026-02-14T14:04:43.241+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 5 条可预约排班
2026-02-14T14:04:43.241+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:04:43.242+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedules=[ScheduleVO(id=2, doctorId=1, doctorNam (truncated)...]
2026-02-14T14:04:43.243+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:05:42.076+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/department/13/available?startDate=2026-02-20&endDate=2026-02-27", parameters={masked}
2026-02-14T14:05:42.076+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getAvailableSchedulesByDepartment(Long, LocalDate, LocalDate)
2026-02-14T14:05:42.077+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.ScheduleServiceImpl   : 查询科室的可预约排班列表 - 科室ID: 13, 开始日期: 2026-02-20, 结束日期: 2026-02-27
2026-02-14T14:05:42.078+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T14:05:42.079+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 13(Long)
2026-02-14T14:05:42.080+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T14:05:42.081+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.S.selectAvailableByDepartment    : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.department_id = ? AND s.schedule_date BETWEEN ? AND ? AND s.status = 1 AND s.remaining_number > 0 AND s.deleted = 0 ORDER BY s.schedule_date ASC, s.time_slot ASC
2026-02-14T14:05:42.081+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.S.selectAvailableByDepartment    : ==> Parameters: 13(Long), 2026-02-20(LocalDate), 2026-02-27(LocalDate)
2026-02-14T14:05:42.083+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.S.selectAvailableByDepartment    : <==      Total: 2
2026-02-14T14:05:42.084+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.ScheduleServiceImpl   : 查询到 2 条可预约排班
2026-02-14T14:05:42.085+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:05:42.085+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedules=[ScheduleVO(id=6, doctorId=2, doctorNam (truncated)...]
2026-02-14T14:05:42.085+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:09:33.003+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/1", parameters={}
2026-02-14T14:09:33.003+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#updateSchedule(Long, ScheduleDTO)
2026-02-14T14:09:33.005+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-20, timeSlot=MORNING, totalNumber=25)]
2026-02-14T14:09:33.010+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.ScheduleServiceImpl   : 更新排班信息 - ID: 1, 医生ID: 1
2026-02-14T14:09:33.012+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.ScheduleMapper.selectById   : ==>  Preparing: SELECT id,doctor_id,department_id,schedule_date,time_slot,total_number,remaining_number,status,create_time,update_time,deleted FROM schedule WHERE id=? AND deleted=0
2026-02-14T14:09:33.012+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.ScheduleMapper.selectById   : ==> Parameters: 1(Long)
2026-02-14T14:09:33.014+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.ScheduleMapper.selectById   : <==      Total: 1
2026-02-14T14:09:33.015+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T14:09:33.015+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T14:09:33.016+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T14:09:33.017+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T14:09:33.017+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T14:09:33.018+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T14:09:33.020+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] r.m.S.selectByDoctorDateAndTimeExcludeId : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND id != ? AND deleted = 0 LIMIT 1
2026-02-14T14:09:33.020+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] r.m.S.selectByDoctorDateAndTimeExcludeId : ==> Parameters: 1(Long), 2026-02-20(LocalDate), MORNING(String), 1(Long)
2026-02-14T14:09:33.021+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] r.m.S.selectByDoctorDateAndTimeExcludeId : <==      Total: 0
2026-02-14T14:09:33.037+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T14:09:33.037+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.ScheduleMapper.updateById   : ==>  Preparing: UPDATE schedule SET doctor_id=?, department_id=?, schedule_date=?, time_slot=?, total_number=?, remaining_number=?, status=?, create_time=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T14:09:33.038+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.ScheduleMapper.updateById   : ==> Parameters: 1(Long), 5(Long), 2026-02-20(LocalDate), MORNING(String), 25(Integer), 25(Integer), 1(Integer), 2026-02-14T13:39:14(LocalDateTime), 2026-02-14T13:39:14(LocalDateTime), 1(Long)
2026-02-14T14:09:33.054+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.mapper.ScheduleMapper.updateById   : <==    Updates: 1
2026-02-14T14:09:33.054+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.service.impl.ScheduleServiceImpl   : 排班更新成功 - ID: 1
2026-02-14T14:09:33.054+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T14:09:33.055+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 1(Long)
2026-02-14T14:09:33.056+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T14:09:33.057+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:09:33.058+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班更新成功, data={schedule=ScheduleVO(id=1, doctorId=1, doctorNam (truncated)...]
2026-02-14T14:09:33.058+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:11:05.623+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/1/status?status=0", parameters={masked}
2026-02-14T14:11:05.623+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#updateScheduleStatus(Long, Integer)
2026-02-14T14:11:05.624+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 更新排班状态 - ID: 1, 状态: 0
2026-02-14T14:11:05.625+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.selectById   : ==>  Preparing: SELECT id,doctor_id,department_id,schedule_date,time_slot,total_number,remaining_number,status,create_time,update_time,deleted FROM schedule WHERE id=? AND deleted=0
2026-02-14T14:11:05.625+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.selectById   : ==> Parameters: 1(Long)
2026-02-14T14:11:05.626+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.selectById   : <==      Total: 1
2026-02-14T14:11:05.627+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T14:11:05.628+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.updateById   : ==>  Preparing: UPDATE schedule SET status=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T14:11:05.628+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.updateById   : ==> Parameters: 0(Integer), 2026-02-14T14:11:05.628855400(LocalDateTime), 1(Long)
2026-02-14T14:11:05.641+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.mapper.ScheduleMapper.updateById   : <==    Updates: 1
2026-02-14T14:11:05.641+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.service.impl.ScheduleServiceImpl   : 排班状态更新成功 - ID: 1, 新状态: 0
2026-02-14T14:11:05.642+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:11:05.642+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班状态更新成功, data={})]
2026-02-14T14:11:05.643+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:11:09.322+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/1/status?status=1", parameters={masked}
2026-02-14T14:11:09.323+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#updateScheduleStatus(Long, Integer)
2026-02-14T14:11:09.323+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 更新排班状态 - ID: 1, 状态: 1
2026-02-14T14:11:09.324+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.selectById   : ==>  Preparing: SELECT id,doctor_id,department_id,schedule_date,time_slot,total_number,remaining_number,status,create_time,update_time,deleted FROM schedule WHERE id=? AND deleted=0
2026-02-14T14:11:09.325+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.selectById   : ==> Parameters: 1(Long)
2026-02-14T14:11:09.326+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.selectById   : <==      Total: 1
2026-02-14T14:11:09.327+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T14:11:09.327+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.updateById   : ==>  Preparing: UPDATE schedule SET status=?, update_time=? WHERE id=? AND deleted=0
2026-02-14T14:11:09.328+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.updateById   : ==> Parameters: 1(Integer), 2026-02-14T14:11:09.327702100(LocalDateTime), 1(Long)
2026-02-14T14:11:09.333+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.ScheduleMapper.updateById   : <==    Updates: 1
2026-02-14T14:11:09.333+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 排班状态更新成功 - ID: 1, 新状态: 1
2026-02-14T14:11:09.333+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:11:09.335+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班状态更新成功, data={})]
2026-02-14T14:11:09.335+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:11:26.981+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/delete/1", parameters={}
2026-02-14T14:11:26.985+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleException(Exception)
2026-02-14T14:11:26.986+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.common.GlobalExceptionHandler      : 系统异常：

org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-02-14T14:11:26.988+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:11:26.988+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=系统异常，请联系管理员, data={})]
2026-02-14T14:11:26.989+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2026-02-14T14:11:26.990+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:11:31.921+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/delete/1", parameters={}
2026-02-14T14:11:31.922+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#deleteSchedule(Long)
2026-02-14T14:11:31.922+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 删除排班 - ID: 1
2026-02-14T14:11:31.923+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.selectById   : ==>  Preparing: SELECT id,doctor_id,department_id,schedule_date,time_slot,total_number,remaining_number,status,create_time,update_time,deleted FROM schedule WHERE id=? AND deleted=0
2026-02-14T14:11:31.923+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.selectById   : ==> Parameters: 1(Long)
2026-02-14T14:11:31.924+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.selectById   : <==      Total: 1
2026-02-14T14:11:31.933+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.config.MyMetaObjectHandler         : 开始update填充...
2026-02-14T14:11:31.934+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.deleteById   : ==>  Preparing: UPDATE schedule SET update_time=?, deleted=1 WHERE id=? AND deleted=0
2026-02-14T14:11:31.934+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.deleteById   : ==> Parameters: 2026-02-14T14:11:31.933549200(LocalDateTime), 1(Long)
2026-02-14T14:11:31.938+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.ScheduleMapper.deleteById   : <==    Updates: 1
2026-02-14T14:11:31.938+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 排班删除成功 - ID: 1
2026-02-14T14:11:31.938+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:11:31.938+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=排班删除成功, data={})]
2026-02-14T14:11:31.939+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:11:50.568+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/1", parameters={}
2026-02-14T14:11:50.569+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getScheduleById(Long)
2026-02-14T14:11:50.569+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.ScheduleServiceImpl   : 查询排班详情 - ID: 1
2026-02-14T14:11:50.570+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T14:11:50.570+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 1(Long)
2026-02-14T14:11:50.572+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 0
2026-02-14T14:11:50.572+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.service.impl.ScheduleServiceImpl   : 排班不存在 - ID: 1
2026-02-14T14:11:50.574+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T14:11:50.574+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] c.h.r.common.GlobalExceptionHandler      : 业务异常：排班不存在
2026-02-14T14:11:50.574+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:11:50.574+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=排班不存在, data={})]
2026-02-14T14:11:50.575+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 排班不存在]
2026-02-14T14:11:50.575+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:12:02.129+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/hospital/schedule/1", parameters={}
2026-02-14T14:12:02.130+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#getScheduleById(Long)
2026-02-14T14:12:02.130+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.ScheduleServiceImpl   : 查询排班详情 - ID: 1
2026-02-14T14:12:02.130+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : ==>  Preparing: SELECT s.id, s.doctor_id, u.real_name as doctor_name, s.department_id, dept.name as department_name, s.schedule_date, s.time_slot, s.total_number, s.remaining_number, s.status, s.create_time, s.update_time FROM schedule s LEFT JOIN doctor d ON s.doctor_id = d.id AND d.deleted = 0 LEFT JOIN user u ON d.user_id = u.id AND u.deleted = 0 LEFT JOIN department dept ON s.department_id = dept.id AND dept.deleted = 0 WHERE s.id = ? AND s.deleted = 0 LIMIT 1
2026-02-14T14:12:02.132+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : ==> Parameters: 1(Long)
2026-02-14T14:12:02.133+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.m.ScheduleMapper.selectDetailById  : <==      Total: 1
2026-02-14T14:12:02.133+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] c.h.r.service.impl.ScheduleServiceImpl   : 查询排班成功 - ID: 1, 医生: 王医生
2026-02-14T14:12:02.134+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:12:02.134+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=true, code=200, message=操作成功, data={schedule=ScheduleVO(id=1, doctorId=1, doctorName= (truncated)...]
2026-02-14T14:12:02.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:12:35.116+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:12:35.116+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:12:35.117+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=null, departmentId=5, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=10 (truncated)...]
2026-02-14T14:12:35.119+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T14:12:35.119+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'doctorId': rejected value [null]; codes [NotNull.scheduleDTO.doctorId,NotNull.doctorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.doctorId,doctorId]; arguments []; default message [doctorId]]; default message [医生ID不能为空]] 
2026-02-14T14:12:35.120+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:12:35.120+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=医生ID不能为空, data={})]
2026-02-14T14:12:35.121+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'doctorId': rejected value [null]; codes [NotNull.scheduleDTO.doctorId,NotNull.doctorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.doctorId,doctorId]; arguments []; default message [doctorId]]; default message [医生ID不能为空]] ]
2026-02-14T14:12:35.121+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:12:39.796+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:12:39.797+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:12:39.798+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=null, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=10 (truncated)...]
2026-02-14T14:12:39.799+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T14:12:39.799+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'departmentId': rejected value [null]; codes [NotNull.scheduleDTO.departmentId,NotNull.departmentId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.departmentId,departmentId]; arguments []; default message [departmentId]]; default message [科室ID不能为空]] 
2026-02-14T14:12:39.799+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:12:39.799+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=科室ID不能为空, data={})]
2026-02-14T14:12:39.800+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'departmentId': rejected value [null]; codes [NotNull.scheduleDTO.departmentId,NotNull.departmentId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.departmentId,departmentId]; arguments []; default message [departmentId]]; default message [科室ID不能为空]] ]
2026-02-14T14:12:39.800+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:12:50.643+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:12:50.643+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:12:50.644+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-01-21, timeSlot=MORNING, totalNumber=10)]
2026-02-14T14:12:50.644+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T14:12:50.645+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'scheduleDate': rejected value [2026-01-21]; codes [Future.scheduleDTO.scheduleDate,Future.scheduleDate,Future.java.time.LocalDate,Future]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.scheduleDate,scheduleDate]; arguments []; default message [scheduleDate]]; default message [排班日期必须是未来日期]] 
2026-02-14T14:12:50.645+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:12:50.645+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=排班日期必须是未来日期, data={})]
2026-02-14T14:12:50.646+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'scheduleDate': rejected value [2026-01-21]; codes [Future.scheduleDTO.scheduleDate,Future.scheduleDate,Future.java.time.LocalDate,Future]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.scheduleDate,scheduleDate]; arguments []; default message [scheduleDate]]; default message [排班日期必须是未来日期]] ]
2026-02-14T14:12:50.647+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:12:57.698+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:12:57.699+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:12:57.700+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=0)]
2026-02-14T14:12:57.700+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T14:12:57.701+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'totalNumber': rejected value [0]; codes [Min.scheduleDTO.totalNumber,Min.totalNumber,Min.java.lang.Integer,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.totalNumber,totalNumber]; arguments []; default message [totalNumber],1]; default message [总号源数至少为1]] 
2026-02-14T14:12:57.701+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:12:57.701+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=总号源数至少为1, data={})]
2026-02-14T14:12:57.701+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'totalNumber': rejected value [0]; codes [Min.scheduleDTO.totalNumber,Min.totalNumber,Min.java.lang.Integer,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.totalNumber,totalNumber]; arguments []; default message [totalNumber],1]; default message [总号源数至少为1]] ]
2026-02-14T14:12:57.701+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:13:10.673+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:13:10.673+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:13:10.675+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=102)]
2026-02-14T14:13:10.675+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-14T14:13:10.675+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] c.h.r.common.GlobalExceptionHandler      : 参数校验异常：Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'totalNumber': rejected value [102]; codes [Max.scheduleDTO.totalNumber,Max.totalNumber,Max.java.lang.Integer,Max]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.totalNumber,totalNumber]; arguments []; default message [totalNumber],100]; default message [总号源数不能超过100]] 
2026-02-14T14:13:10.675+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:13:10.676+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=400, message=总号源数不能超过100, data={})]
2026-02-14T14:13:10.676+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.hospital.registration.common.Result com.hospital.registration.controller.ScheduleController.addSchedule(com.hospital.registration.dto.ScheduleDTO): [Field error in object 'scheduleDTO' on field 'totalNumber': rejected value [102]; codes [Max.scheduleDTO.totalNumber,Max.totalNumber,Max.java.lang.Integer,Max]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [scheduleDTO.totalNumber,totalNumber]; arguments []; default message [totalNumber],100]; default message [总号源数不能超过100]] ]
2026-02-14T14:13:10.677+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:13:33.126+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:13:33.126+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:13:33.128+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=5, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=10)]
2026-02-14T14:13:33.128+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 5, 日期: 2026-02-21, 时间段: MORNING
2026-02-14T14:13:33.129+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T14:13:33.129+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T14:13:33.130+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T14:13:33.131+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T14:13:33.131+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 5(Long)
2026-02-14T14:13:33.132+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 1
2026-02-14T14:13:33.132+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectByDoctorDateAndTime      : ==>  Preparing: SELECT id, doctor_id, department_id, schedule_date, time_slot, total_number, remaining_number, status, create_time, update_time, deleted FROM schedule WHERE doctor_id = ? AND schedule_date = ? AND time_slot = ? AND deleted = 0 LIMIT 1
2026-02-14T14:13:33.132+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectByDoctorDateAndTime      : ==> Parameters: 1(Long), 2026-02-21(LocalDate), MORNING(String)
2026-02-14T14:13:33.134+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.m.S.selectByDoctorDateAndTime      : <==      Total: 1
2026-02-14T14:13:33.134+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.service.impl.ScheduleServiceImpl   : 该医生在该时间段已有排班 - 医生ID: 1, 日期: 2026-02-21, 时间段: MORNING
2026-02-14T14:13:33.134+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T14:13:33.134+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] c.h.r.common.GlobalExceptionHandler      : 业务异常：该医生在该时间段已有排班
2026-02-14T14:13:33.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:13:33.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=500, message=该医生在该时间段已有排班, data={})]
2026-02-14T14:13:33.135+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 该医生在该时间段已有排班]
2026-02-14T14:13:33.135+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:13:42.370+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:13:42.372+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:13:42.374+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=122, departmentId=5, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=10)]
2026-02-14T14:13:42.375+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 122, 科室ID: 5, 日期: 2026-02-21, 时间段: MORNING
2026-02-14T14:13:42.375+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T14:13:42.375+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 122(Long)
2026-02-14T14:13:42.377+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 0
2026-02-14T14:13:42.377+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.service.impl.ScheduleServiceImpl   : 医生不存在 - 医生ID: 122
2026-02-14T14:13:42.377+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T14:13:42.377+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] c.h.r.common.GlobalExceptionHandler      : 业务异常：医生不存在
2026-02-14T14:13:42.377+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:13:42.377+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=医生不存在, data={})]
2026-02-14T14:13:42.378+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 医生不存在]
2026-02-14T14:13:42.378+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:13:47.140+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/hospital/schedule/add", parameters={}
2026-02-14T14:13:47.141+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hospital.registration.controller.ScheduleController#addSchedule(ScheduleDTO)
2026-02-14T14:13:47.141+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ScheduleDTO(doctorId=1, departmentId=111, scheduleDate=2026-02-21, timeSlot=MORNING, totalNumber=10)]
2026-02-14T14:13:47.142+08:00  INFO 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 新增排班 - 医生ID: 1, 科室ID: 111, 日期: 2026-02-21, 时间段: MORNING
2026-02-14T14:13:47.142+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : ==>  Preparing: SELECT id,user_id,department_id,title,specialty,introduction,registration_fee,rating,consultation_count,status,create_time,update_time,deleted FROM doctor WHERE id=? AND deleted=0
2026-02-14T14:13:47.143+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : ==> Parameters: 1(Long)
2026-02-14T14:13:47.144+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.mapper.DoctorMapper.selectById     : <==      Total: 1
2026-02-14T14:13:47.144+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==>  Preparing: SELECT id,name,code,description,location,phone,status,create_time,update_time,deleted FROM department WHERE id=? AND deleted=0
2026-02-14T14:13:47.144+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : ==> Parameters: 111(Long)
2026-02-14T14:13:47.145+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.m.DepartmentMapper.selectById      : <==      Total: 0
2026-02-14T14:13:47.145+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.service.impl.ScheduleServiceImpl   : 科室不存在 - 科室ID: 111
2026-02-14T14:13:47.145+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hospital.registration.common.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-14T14:13:47.145+08:00 ERROR 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] c.h.r.common.GlobalExceptionHandler      : 业务异常：科室不存在
2026-02-14T14:13:47.146+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-14T14:13:47.146+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Result(success=false, code=404, message=科室不存在, data={})]
2026-02-14T14:13:47.146+08:00  WARN 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.hospital.registration.common.BusinessException: 科室不存在]
2026-02-14T14:13:47.146+08:00 DEBUG 38536 --- [smart-hospital-registration] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-14T14:15:41.166+08:00  INFO 38536 --- [smart-hospital-registration] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-14T14:15:41.433+08:00  INFO 38536 --- [smart-hospital-registration] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-02-14T14:15:41.438+08:00  INFO 38536 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-14T14:15:41.445+08:00  INFO 38536 --- [smart-hospital-registration] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
